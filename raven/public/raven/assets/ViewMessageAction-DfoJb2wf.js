var b=Object.defineProperty,h=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var l=(s,e,t)=>e in s?b(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,p=(s,e)=>{for(var t in e||(e={}))f.call(e,t)&&l(s,t,e[t]);if(d)for(var t of d(e))v.call(e,t)&&l(s,t,e[t]);return s},u=(s,e)=>h(s,j(e));import{bx as S,by as y,j as a,E as x,F as M,ah as A,u as C,r as E,ai as w,ax as P,o as F,d as L,a3 as k}from"./index-3Ycoded3.js";import{M as D}from"./MessageActionForm-BWTucNnK.js";import{C as N}from"./CommonSettingsMenu-Drd_din0.js";import{P as R,S as V,a as B}from"./SettingsContentContainer-B70kiGi-.js";import"./useDoctypeMeta-DEGru9VW.js";import"./DoctypeVariableDialogForm-C0IdkM8e.js";import"./validations-DJFqvO1k.js";import"./table-DrC99LcT.js";import"./CodeBlock-BGDt2g59.js";import"./index-DkXGvIGh.js";/* empty css                      */import"./tabs-DXfZPLYu.js";import"./DeleteAlert-BN3ctxfA.js";const H=s=>{const{ID:e}=S(),{data:t,isLoading:n,error:m,mutate:o}=y("Raven Message Action",e);return a.jsxs(R,{children:[a.jsx(x,{error:m}),n&&a.jsx(M,{className:"h-64"}),t&&a.jsx(K,{data:t,mutate:o})]})},K=({data:s,mutate:e})=>{const{updateDoc:t,loading:n,error:m}=A(),o=C({disabled:n,defaultValues:s}),{formState:{isDirty:g}}=o,c=i=>{t("Raven Message Action",i.name,i).then(r=>{k.success("Saved"),o.reset(r),e(r,{revalidate:!1})})};return E.useEffect(()=>{const i=r=>{r.key==="s"&&(r.metaKey||r.ctrlKey)&&(r.preventDefault(),o.handleSubmit(c)())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[]),a.jsx("form",{onSubmit:o.handleSubmit(c),children:a.jsx(w,u(p({},o),{children:a.jsxs(V,{children:[a.jsx(B,{title:s.action_name,headerBadges:g?[{label:"Not Saved",color:"red"}]:void 0,actions:a.jsxs(P,{children:[a.jsx(N,{doctype:"Raven Message Action",docname:s.name,label:"Message Action"}),a.jsxs(F,{type:"submit",disabled:n,children:[n&&a.jsx(L,{className:"text-white"}),n?"Saving":"Save"]})]}),breadcrumbs:[{label:"Message Actions",href:"../"},{label:s.action_name,href:"",copyToClipboard:!0}]}),a.jsx(x,{error:m}),a.jsx(D,{})]})}))})},$=H;export{$ as Component};
