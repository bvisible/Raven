var h=Object.defineProperty,j=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var u=(t,e,o)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,l=(t,e)=>{for(var o in e||(e={}))S.call(e,o)&&u(t,o,e[o]);if(d)for(var o of d(e))D.call(e,o)&&u(t,o,e[o]);return t},p=(t,e)=>j(t,v(e));import{bx as y,by as N,j as s,E as f,F as g,ah as E,u as C,r as w,ai as F,ax as P,o as L,d as k,a3 as R}from"./index-DLbNAGlT.js";import{D as V}from"./DocumentNotificationForm-Bl6z4g8D.js";import{C as B}from"./CommonSettingsMenu-OtOXuL6r.js";import{P as H,S as K,a as I}from"./SettingsContentContainer-PpMfRXsE.js";import{a as M}from"./validations-DJFqvO1k.js";import"./useDoctypeMeta-Zs7XFBWn.js";import"./InstructionField-B-6wSebp.js";import"./table-ClMmNz5D.js";import"./radio-cards-CQVLZcnN.js";import"./DoctypeVariableDialogForm-By2kbfXf.js";import"./tabs-DNCG8JUF.js";import"./DeleteAlert-BJkRkzev.js";const T=t=>{const{ID:e}=y(),{data:o,isLoading:i,error:m,mutate:a}=N("Raven Document Notification",e);return s.jsxs(H,{children:[s.jsx(f,{error:m}),i&&s.jsx(g,{className:"h-64"}),o&&s.jsx(U,{data:o,mutate:a})]})},U=({data:t,mutate:e})=>{const{updateDoc:o,loading:i,error:m}=E(),a=C({disabled:i,defaultValues:t}),{formState:{dirtyFields:x}}=a,b=!M(x),c=r=>{o("Raven Document Notification",r.name,r).then(n=>{R.success("Saved"),a.reset(n),e(n,{revalidate:!1})})};return w.useEffect(()=>{const r=n=>{n.key==="s"&&(n.metaKey||n.ctrlKey)&&(n.preventDefault(),a.handleSubmit(c)())};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[]),s.jsx("form",{onSubmit:a.handleSubmit(c),children:s.jsx(F,p(l({},a),{children:s.jsxs(K,{children:[s.jsx(I,{title:t.name,headerBadges:b?[{label:"Not Saved",color:"red"}]:void 0,actions:s.jsxs(P,{children:[s.jsx(B,{doctype:"Raven Document Notification",docname:t.name,label:"Document Notification"}),s.jsxs(L,{type:"submit",disabled:i,children:[i&&s.jsx(k,{className:"text-white"}),i?"Saving":"Save"]})]}),breadcrumbs:[{label:"Document Notifications",href:"../"},{label:t.name,href:"",copyToClipboard:!0}]}),s.jsx(f,{error:m}),s.jsx(V,{isEdit:!0})]})}))})},ee=T;export{ee as Component};
