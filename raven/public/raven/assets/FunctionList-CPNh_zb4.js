import{aQ as m,az as x,bD as h,j as e,o as p,f as d,E as j,c2 as u,ax as y,i as o,aA as f,aS as g}from"./index-R8dcyEON.js";import{A as b}from"./AINotEnabledCallout-BwfGQB1C.js";import{E as S,a as A,b as E,c as C,d as v}from"./EmptyListViewState-KfX7TfGG.js";import{T as F}from"./TableLoader-CDpXHPyy.js";import{P as w,S as I,a as L}from"./SettingsContentContainer-BMUEmzAQ.js";import{m as R,d as T,P as c,f as n,b as _,T as r}from"./table-HDqE5ITd.js";import"./useRavenSettings-BruiZaC6.js";import"./Skeleton-DFPQynXy.js";const k=i=>{const s=m()||x(),{data:t,isLoading:l,error:a}=h("Raven AI Function",{fields:["name","description","function_name","type","requires_write_permissions"],orderBy:{field:"modified",order:"desc"}},s?void 0:null,{errorRetryCount:2});return e.jsx(w,{children:e.jsxs(I,{children:[e.jsx(L,{title:"Functions",description:"Declare functions to be used by your AI bots.",actions:e.jsx(p,{asChild:!0,disabled:!s,children:e.jsx(d,{to:"create",children:"Create"})})}),l&&!a&&e.jsx(F,{columns:4}),e.jsx(j,{error:a}),e.jsx(b,{}),t&&t.length>0&&e.jsx(N,{functions:t}),((t==null?void 0:t.length)===0||!s)&&e.jsxs(S,{children:[e.jsx(A,{children:e.jsx(u,{})}),e.jsx(E,{children:"Bots + Functions = AI Magic"}),e.jsx(C,{children:"Use the no-code builder to create functions that allow AI bots to perform actions within the system when requested, like creating documents, or fetching reports to analyze."}),s&&e.jsx(v,{to:"create",children:"Create your first function"})]})]})})},N=({functions:i})=>e.jsxs(R,{variant:"surface",className:"rounded-sm animate-fadein",children:[e.jsx(T,{children:e.jsxs(c,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Description"}),e.jsx(n,{children:"Type"}),e.jsx(n,{children:"Writes"})]})}),e.jsx(_,{children:i==null?void 0:i.map(s=>e.jsxs(c,{children:[e.jsx(r,{maxWidth:"250px",children:e.jsx(y,{align:"center",children:e.jsx(d,{to:`${s.name}`,className:"hover:underline underline-offset-4",children:e.jsx(o,{weight:"medium",children:s.function_name})})})}),e.jsx(r,{maxWidth:"300px",children:e.jsx(o,{className:"line-clamp-1 text-ellipsis",children:s.description})}),e.jsx(r,{maxWidth:"150px",children:e.jsx(f,{variant:"outline",children:s.type})}),e.jsx(r,{maxWidth:"50px",children:e.jsx(g,{checked:s.requires_write_permissions===1})})]},s.name))})]}),Q=k;export{Q as Component};
