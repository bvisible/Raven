import{az as d,V as x,j as e,_ as a,C,aR as g,E as j,i,e as o,bK as r,o as s,a3 as b,ac as _}from"./index-R8dcyEON.js";import{P as f,S as A,a as O}from"./SettingsContentContainer-BMUEmzAQ.js";import{u as k}from"./useRavenSettings-BruiZaC6.js";const v=()=>{const l=d(),{ravenSettings:t,mutate:c,error:u}=k(),{call:h,loading:p}=x("raven.api.raven_mobile.create_oauth_client"),n=()=>{b.promise(h({}).then(()=>c()),{loading:"Creating OAuth Client...",success:"OAuth Client created. You can now use this site on the mobile app.",error:m=>"Failed to create OAuth Client. "+_(m)})};return e.jsx(f,{children:e.jsxs(A,{children:[e.jsx(O,{title:a("Mobile App"),description:a("Do more with Raven on your mobile.")}),!l&&e.jsx(C,{iconChildren:e.jsx(g,{}),rootProps:{color:"blue",variant:"surface"},textChildren:a("You need to be a System Manager to manage the mobile app configuration.")}),e.jsx(j,{error:u}),e.jsxs(i,{size:"2",children:["Raven uses OAuth to authenticate users securely on the mobile app.",e.jsx("br",{}),"To use the Raven mobile app, you need to first create an ",e.jsxs(o,{href:"https://docs.frappe.io/framework/user/en/using_frappe_as_oauth_service",target:"_blank",children:["OAuth Client ",e.jsx(r,{})]}),".",e.jsx("br",{}),e.jsx("br",{}),e.jsx(i,{as:"span",weight:"medium",children:"This is a one-time single click setup."})," Click the button below to configure the OAuth Client."]}),e.jsxs("div",{className:"flex gap-2",children:[t!=null&&t.oauth_client?e.jsx(s,{onClick:n,className:"not-cal",children:"Reset OAuth Client"}):e.jsx(s,{onClick:n,disabled:p,className:"not-cal",children:"Configure OAuth Client"}),(t==null?void 0:t.oauth_client)&&e.jsx(s,{asChild:!0,color:"gray",variant:"outline",className:"not-cal",children:e.jsxs(o,{color:"gray",target:"_blank",href:`/app/oauth-client/${t.oauth_client}`,children:["View OAuth Client",e.jsx(r,{})]})})]})]})})},E=v;export{E as Component};
