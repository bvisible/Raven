var sn=Object.defineProperty,un=Object.defineProperties;var cn=Object.getOwnPropertyDescriptors;var mt=Object.getOwnPropertySymbols;var ro=Object.prototype.hasOwnProperty,io=Object.prototype.propertyIsEnumerable;var no=(e,t,o)=>t in e?sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,H=(e,t)=>{for(var o in t||(t={}))ro.call(t,o)&&no(e,o,t[o]);if(mt)for(var o of mt(t))io.call(t,o)&&no(e,o,t[o]);return e},U=(e,t)=>un(e,cn(t));var je=(e,t)=>{var o={};for(var n in e)ro.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&mt)for(var n of mt(e))t.indexOf(n)<0&&io.call(e,n)&&(o[n]=e[n]);return o};import{bT as O,j as G,r as xt,cm as an}from"./index-DhM1aug3.js";const Ct=0,De=1,Je=2,Ho=4;function lo(e){return()=>e}function dn(e){e()}function Tt(e,t){return o=>e(t(o))}function so(e,t){return()=>e(t)}function fn(e,t){return o=>e(t,o)}function At(e){return e!==void 0}function hn(...e){return()=>{e.map(dn)}}function ct(){}function zt(e,t){return t(e),e}function mn(e,t){return t(e)}function oe(...e){return e}function Z(e,t){return e(De,t)}function j(e,t){e(Ct,t)}function Dt(e){e(Je)}function ie(e){return e(Ho)}function k(e,t){return Z(e,fn(t,Ct))}function ye(e,t){const o=e(De,n=>{o(),t(n)});return o}function uo(e){let t,o;return n=>r=>{t=r,o&&clearTimeout(o),o=setTimeout(()=>{n(t)},e)}}function yo(e,t){return e===t}function te(e=yo){let t;return o=>n=>{e(t,n)||(t=n,o(n))}}function P(e){return t=>o=>{e(o)&&t(o)}}function y(e){return t=>Tt(t,e)}function Oe(e){return t=>()=>{t(e)}}function x(e,...t){const o=gn(...t);return((n,r)=>{switch(n){case Je:Dt(e);return;case De:return Z(e,o(r))}})}function Fe(e,t){return o=>n=>{o(t=e(t,n))}}function Ue(e){return t=>o=>{e>0?e--:t(o)}}function We(e){let t=null,o;return n=>r=>{t=r,!o&&(o=setTimeout(()=>{o=void 0,n(t)},e))}}function A(...e){const t=new Array(e.length);let o=0,n=null;const r=Math.pow(2,e.length)-1;return e.forEach((i,l)=>{const s=Math.pow(2,l);Z(i,u=>{const d=o;o=o|s,t[l]=u,d!==r&&o===r&&n&&(n(),n=null)})}),i=>l=>{const s=()=>{i([l].concat(t))};o===r?s():n=s}}function gn(...e){return t=>e.reduceRight(mn,t)}function pn(e){let t,o;const n=()=>t==null?void 0:t();return function(r,i){switch(r){case De:return i?o===i?void 0:(n(),o=i,t=Z(e,i),t):(n(),ct);case Je:n(),o=null;return}}}function S(e){let t=e;const o=_();return((n,r)=>{switch(n){case Ct:t=r;break;case De:{r(t);break}case Ho:return t}return o(n,r)})}function ge(e,t){return zt(S(t),o=>k(e,o))}function _(){const e=[];return((t,o)=>{switch(t){case Ct:e.slice().forEach(n=>{n(o)});return;case Je:e.splice(0,e.length);return;case De:return e.push(o),()=>{const n=e.indexOf(o);n>-1&&e.splice(n,1)}}})}function we(e){return zt(_(),t=>k(e,t))}function K(e,t=[],{singleton:o}={singleton:!0}){return{constructor:e,dependencies:t,id:xn(),singleton:o}}const xn=()=>Symbol();function vn(e){const t=new Map,o=({constructor:n,dependencies:r,id:i,singleton:l})=>{if(l&&t.has(i))return t.get(i);const s=n(r.map(u=>o(u)));return l&&t.set(i,s),s};return o(e)}function ue(...e){const t=_(),o=new Array(e.length);let n=0;const r=Math.pow(2,e.length)-1;return e.forEach((i,l)=>{const s=Math.pow(2,l);Z(i,u=>{o[l]=u,n=n|s,n===r&&j(t,o)})}),function(i,l){switch(i){case Je:{Dt(t);return}case De:return n===r&&l(o),Z(t,l)}}}function W(e,t=yo){return x(e,te(t))}function Ft(...e){return function(t,o){switch(t){case Je:return;case De:return hn(...e.map(n=>Z(n,o)))}}}var Ce=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Ce||{});const In={0:"debug",3:"error",1:"log",2:"warn"},Tn=()=>typeof globalThis>"u"?window:globalThis,Ve=K(()=>{const e=S(3);return{log:S((t,o,n=1)=>{var r;const i=(r=Tn().VIRTUOSO_LOG_LEVEL)!=null?r:ie(e);n>=i&&console[In[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,o)}),logLevel:e}},[],{singleton:!0});function Ke(e,t,o){return Vt(e,t,o).callbackRef}function Vt(e,t,o){const n=O.useRef(null);let r=l=>{};const i=O.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(l=>{const s=()=>{const u=l[0].target;u.offsetParent!==null&&e(u)};o?s():requestAnimationFrame(s)}):null,[e,o]);return r=l=>{l&&t?(i==null||i.observe(l),n.current=l):(n.current&&(i==null||i.unobserve(n.current)),n.current=null)},{callbackRef:r,ref:n}}function Sn(e,t,o,n,r,i,l,s,u){const d=O.useCallback(h=>{const T=wn(h.children,t,"offsetHeight",r);let g=h.parentElement;for(;!g.dataset.virtuosoScroller;)g=g.parentElement;const v=g.lastElementChild.dataset.viewportType==="window";let z;v&&(z=g.ownerDocument.defaultView);const I=l?l.scrollTop:v?z.scrollY||z.document.documentElement.scrollTop:g.scrollTop,m=l?l.scrollHeight:v?z.document.documentElement.scrollHeight:g.scrollHeight,a=l?l.offsetHeight:v?z.innerHeight:g.offsetHeight;n({scrollHeight:m,scrollTop:Math.max(I,0),viewportHeight:a}),T!==null&&e(T)},[e,t,r,i,l,n,s]);return Vt(d,o,u)}function wn(e,t,o,n){const r=e.length;if(r===0)return null;const i=[];for(let l=0;l<r;l++){const s=e.item(l);if(s.dataset.index===void 0)continue;const u=parseInt(s.dataset.index),d=parseFloat(s.dataset.knownSize),h=t(s,o);if(h===0&&n("Zero-sized element, this should not happen",{child:s},Ce.ERROR),h===d)continue;const T=i[i.length-1];i.length===0||T.size!==h||T.endIndex!==u-1?i.push({endIndex:u,size:h,startIndex:u}):i[i.length-1].endIndex++}return i}function Eo(e,t,o){const n=O.useRef(null),r=O.useCallback(u=>{if(!(u!=null&&u.offsetParent))return;const d=u.getBoundingClientRect(),h=d.width;let T,g;if(t){const v=t.getBoundingClientRect(),z=d.top-v.top;g=v.height-Math.max(0,z),T=z+t.scrollTop}else{const v=l.current.ownerDocument.defaultView;g=v.innerHeight-Math.max(0,d.top),T=d.top+v.scrollY}n.current={offsetTop:T,visibleHeight:g,visibleWidth:h},e(n.current)},[e,t]),{callbackRef:i,ref:l}=Vt(r,!0,o),s=O.useCallback(()=>{r(l.current)},[r,l]);return O.useEffect(()=>{var u;if(t){t.addEventListener("scroll",s);const d=new ResizeObserver(()=>{requestAnimationFrame(s)});return d.observe(t),()=>{t.removeEventListener("scroll",s),d.unobserve(t)}}else{const d=(u=l.current)==null?void 0:u.ownerDocument.defaultView;return d==null||d.addEventListener("scroll",s),d==null||d.addEventListener("resize",s),()=>{d==null||d.removeEventListener("scroll",s),d==null||d.removeEventListener("resize",s)}}},[s,t,l]),i}const pe=K(()=>{const e=_(),t=_(),o=S(0),n=_(),r=S(0),i=_(),l=_(),s=S(0),u=S(0),d=S(0),h=S(0),T=_(),g=_(),v=S(!1),z=S(!1),I=S(!1);return k(x(e,y(({scrollTop:m})=>m)),t),k(x(e,y(({scrollHeight:m})=>m)),l),k(t,r),{deviation:o,fixedFooterHeight:d,fixedHeaderHeight:u,footerHeight:h,headerHeight:s,horizontalDirection:z,scrollBy:g,scrollContainerState:e,scrollHeight:l,scrollingInProgress:v,scrollTo:T,scrollTop:t,skipAnimationFrameInResizeObserver:I,smoothScrollTargetReached:n,statefulScrollTop:r,viewportHeight:i}},[],{singleton:!0}),ot={lvl:0};function Bo(e,t){const o=e.length;if(o===0)return[];let{index:n,value:r}=t(e[0]);const i=[];for(let l=1;l<o;l++){const{index:s,value:u}=t(e[l]);i.push({end:s-1,start:n,value:r}),n=s,r=u}return i.push({end:1/0,start:n,value:r}),i}function X(e){return e===ot}function nt(e,t){if(!X(e))return t===e.k?e.v:t<e.k?nt(e.l,t):nt(e.r,t)}function Be(e,t,o="k"){if(X(e))return[-1/0,void 0];if(Number(e[o])===t)return[e.k,e.v];if(Number(e[o])<t){const n=Be(e.r,t,o);return n[0]===-1/0?[e.k,e.v]:n}return Be(e.l,t,o)}function Se(e,t,o){return X(e)?Fo(t,o,1):t===e.k?ae(e,{k:t,v:o}):t<e.k?co(ae(e,{l:Se(e.l,t,o)})):co(ae(e,{r:Se(e.r,t,o)}))}function Ye(){return ot}function Xe(e,t,o){if(X(e))return[];const n=Be(e,t)[0];return Cn(Wt(e,n,o))}function Mt(e,t){if(X(e))return ot;const{k:o,l:n,r}=e;if(t===o){if(X(n))return r;if(X(r))return n;{const[i,l]=Oo(n);return vt(ae(e,{k:i,l:ko(n),v:l}))}}else return t<o?vt(ae(e,{l:Mt(n,t)})):vt(ae(e,{r:Mt(r,t)}))}function _e(e){return X(e)?[]:[..._e(e.l),{k:e.k,v:e.v},..._e(e.r)]}function Wt(e,t,o){if(X(e))return[];const{k:n,l:r,r:i,v:l}=e;let s=[];return n>t&&(s=s.concat(Wt(r,t,o))),n>=t&&n<=o&&s.push({k:n,v:l}),n<=o&&(s=s.concat(Wt(i,t,o))),s}function vt(e){const{l:t,lvl:o,r:n}=e;if(n.lvl>=o-1&&t.lvl>=o-1)return e;if(o>n.lvl+1){if(yt(t))return Mo(ae(e,{lvl:o-1}));if(!X(t)&&!X(t.r))return ae(t.r,{l:ae(t,{r:t.r.l}),lvl:o,r:ae(e,{l:t.r.r,lvl:o-1})});throw new Error("Unexpected empty nodes")}else{if(yt(e))return Pt(ae(e,{lvl:o-1}));if(!X(n)&&!X(n.l)){const r=n.l,i=yt(r)?n.lvl-1:n.lvl;return ae(r,{l:ae(e,{lvl:o-1,r:r.l}),lvl:r.lvl+1,r:Pt(ae(n,{l:r.r,lvl:i}))})}else throw new Error("Unexpected empty nodes")}}function ae(e,t){return Fo(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function ko(e){return X(e.r)?e.l:vt(ae(e,{r:ko(e.r)}))}function yt(e){return X(e)||e.lvl>e.r.lvl}function Oo(e){return X(e.r)?[e.k,e.v]:Oo(e.r)}function Fo(e,t,o,n=ot,r=ot){return{k:e,l:n,lvl:o,r,v:t}}function co(e){return Pt(Mo(e))}function Mo(e){const{l:t}=e;return!X(t)&&t.lvl===e.lvl?ae(t,{r:ae(e,{l:t.r})}):e}function Pt(e){const{lvl:t,r:o}=e;return!X(o)&&!X(o.r)&&o.lvl===t&&o.r.lvl===t?ae(o,{l:ae(e,{r:o.l}),lvl:t+1}):e}function Cn(e){return Bo(e,({k:t,v:o})=>({index:t,value:o}))}function Wo(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function rt(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const Gt=K(()=>({recalcInProgress:S(!1)}),[],{singleton:!0});function Po(e,t,o){return e[St(e,t,o)]}function St(e,t,o,n=0){let r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),l=e[i],s=o(l,t);if(s===0)return i;if(s===-1){if(r-n<2)return i-1;r=i-1}else{if(r===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function zn(e,t,o,n){const r=St(e,t,n),i=St(e,o,n,r);return e.slice(r,i+1)}function Ae(e,t){return Math.round(e.getBoundingClientRect()[t])}function Rt(e){return!X(e.groupOffsetTree)}function Nt({index:e},t){return t===e?0:t<e?-1:1}function Rn(){return{groupIndices:[],groupOffsetTree:Ye(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Ye()}}function bn(e,t){let o=X(e)?0:1/0;for(const n of t){const{endIndex:r,size:i,startIndex:l}=n;if(o=Math.min(o,l),X(e)){e=Se(e,0,i);continue}const s=Xe(e,l-1,r+1);if(s.some(Fn(n)))continue;let u=!1,d=!1;for(const{end:h,start:T,value:g}of s)u?(r>=T||i===g)&&(e=Mt(e,T)):(d=g!==i,u=!0),h>r&&r>=T&&g!==i&&(e=Se(e,r+1,g));d&&(e=Se(e,l,i))}return[e,o]}function Hn(e){return typeof e.groupIndex<"u"}function yn({offset:e},t){return t===e?0:t<e?-1:1}function it(e,t,o){if(t.length===0)return 0;const{index:n,offset:r,size:i}=Po(t,e,Nt),l=e-n,s=i*l+(l-1)*o+r;return s>0?s+o:s}function Lo(e,t){if(!Rt(t))return e;let o=0;for(;t.groupIndices[o]<=e+o;)o++;return e+o}function jo(e,t,o){if(Hn(e))return t.groupIndices[e.groupIndex]+1;{const n=e.index==="LAST"?o:e.index;let r=Lo(n,t);return r=Math.max(0,r,Math.min(o,r)),r}}function En(e,t,o,n=0){return n>0&&(t=Math.max(t,Po(e,n,Nt).offset)),Bo(zn(e,t,o,yn),On)}function Bn(e,[t,o,n,r]){t.length>0&&n("received item sizes",t,Ce.DEBUG);const i=e.sizeTree;let l=i,s=0;if(o.length>0&&X(i)&&t.length===2){const g=t[0].size,v=t[1].size;l=o.reduce((z,I)=>Se(Se(z,I,g),I+1,v),l)}else[l,s]=bn(l,t);if(l===i)return e;const{lastIndex:u,lastOffset:d,lastSize:h,offsetTree:T}=Lt(e.offsetTree,s,l,r);return{groupIndices:o,groupOffsetTree:o.reduce((g,v)=>Se(g,v,it(v,T,r)),Ye()),lastIndex:u,lastOffset:d,lastSize:h,offsetTree:T,sizeTree:l}}function kn(e){return _e(e).map(({k:t,v:o},n,r)=>{const i=r[n+1];return{endIndex:i?i.k-1:1/0,size:o,startIndex:t}})}function ao(e,t){let o=0,n=0;for(;o<e;)o+=t[n+1]-t[n]-1,n++;return n-(o===e?0:1)}function Lt(e,t,o,n){let r=e,i=0,l=0,s=0,u=0;if(t!==0){u=St(r,t-1,Nt),s=r[u].offset;const d=Be(o,t-1);i=d[0],l=d[1],r.length&&r[u].size===Be(o,t)[1]&&(u-=1),r=r.slice(0,u+1)}else r=[];for(const{start:d,value:h}of Xe(o,t,1/0)){const T=d-i,g=T*l+s+T*n;r.push({index:d,offset:g,size:h}),i=d,s=g,l=h}return{lastIndex:i,lastOffset:s,lastSize:l,offsetTree:r}}function On(e){return{index:e.index,value:e}}function Fn(e){const{endIndex:t,size:o,startIndex:n}=e;return r=>r.start===n&&(r.end===t||r.end===1/0)&&r.value===o}const Mn={offsetHeight:"height",offsetWidth:"width"},Me=K(([{log:e},{recalcInProgress:t}])=>{const o=_(),n=_(),r=ge(n,0),i=_(),l=_(),s=S(0),u=S([]),d=S(void 0),h=S(void 0),T=S(void 0),g=S(void 0),v=S((c,p)=>Ae(c,Mn[p])),z=S(void 0),I=S(0),m=Rn(),a=ge(x(o,A(u,e,I),Fe(Bn,m),te()),m),f=ge(x(u,te(),Fe((c,p)=>({current:p,prev:c.current}),{current:[],prev:[]}),y(({prev:c})=>c)),[]);k(x(u,P(c=>c.length>0),A(a,I),y(([c,p,C])=>{const R=c.reduce((F,D,V)=>Se(F,D,it(D,p.offsetTree,C)||V),Ye());return U(H({},p),{groupIndices:c,groupOffsetTree:R})})),a),k(x(n,A(a),P(([c,{lastIndex:p}])=>c<p),y(([c,{lastIndex:p,lastSize:C}])=>[{endIndex:p,size:C,startIndex:c}])),o),k(d,h);const w=ge(x(d,y(c=>c===void 0)),!0);k(x(h,P(c=>c!==void 0&&X(ie(a).sizeTree)),y(c=>{const p=ie(T),C=ie(u).length>0;return p?C?[{endIndex:0,size:p,startIndex:0},{endIndex:1,size:c,startIndex:1}]:[]:[{endIndex:0,size:c,startIndex:0}]})),o),k(x(g,P(c=>c!==void 0&&c.length>0&&X(ie(a).sizeTree)),y(c=>{const p=[];let C=c[0],R=0;for(let F=1;F<c.length;F++){const D=c[F];D!==C&&(p.push({endIndex:F-1,size:C,startIndex:R}),C=D,R=F)}return p.push({endIndex:c.length-1,size:C,startIndex:R}),p})),o),k(x(u,A(T,h),P(([,c,p])=>c!==void 0&&p!==void 0),y(([c,p,C])=>{const R=[];for(let F=0;F<c.length;F++){const D=c[F],V=c[F+1];R.push({startIndex:D,endIndex:D,size:p}),V!==void 0&&R.push({startIndex:D+1,endIndex:V-1,size:C})}return R})),o);const B=we(x(o,A(a),Fe(({sizes:c},[p,C])=>({changed:C!==c,sizes:C}),{changed:!1,sizes:m}),y(c=>c.changed)));Z(x(s,Fe((c,p)=>({diff:c.prev-p,prev:p}),{diff:0,prev:0}),y(c=>c.diff)),c=>{const{groupIndices:p}=ie(a);if(c>0)j(t,!0),j(i,c+ao(c,p));else if(c<0){const C=ie(f);C.length>0&&(c-=ao(-c,C)),j(l,c)}}),Z(x(s,A(e)),([c,p])=>{c<0&&p("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},Ce.ERROR)});const E=we(i);k(x(i,A(a),y(([c,p])=>{const C=p.groupIndices.length>0,R=[],F=p.lastSize;if(C){const D=nt(p.sizeTree,0);let V=0,J=0;for(;V<c;){const $=p.groupIndices[J],Q=p.groupIndices.length===J+1?1/0:p.groupIndices[J+1]-$-1;R.push({endIndex:$,size:D,startIndex:$}),R.push({endIndex:$+1+Q-1,size:F,startIndex:$+1}),J++,V+=Q+1}const N=_e(p.sizeTree);return V!==c&&N.shift(),N.reduce(($,{k:Q,v:xe})=>{let ve=$.ranges;return $.prevSize!==0&&(ve=[...$.ranges,{endIndex:Q+c-1,size:$.prevSize,startIndex:$.prevIndex}]),{prevIndex:Q+c,prevSize:xe,ranges:ve}},{prevIndex:c,prevSize:0,ranges:R}).ranges}return _e(p.sizeTree).reduce((D,{k:V,v:J})=>({prevIndex:V+c,prevSize:J,ranges:[...D.ranges,{endIndex:V+c-1,size:D.prevSize,startIndex:D.prevIndex}]}),{prevIndex:0,prevSize:F,ranges:[]}).ranges})),o);const M=we(x(l,A(a,I),y(([c,{offsetTree:p},C])=>{const R=-c;return it(R,p,C)})));return k(x(l,A(a,I),y(([c,p,C])=>{if(p.groupIndices.length>0){if(X(p.sizeTree))return p;let R=Ye();const F=ie(f);let D=0,V=0,J=0;for(;D<-c;){J=F[V];const N=F[V+1]-J-1;V++,D+=N+1}if(R=_e(p.sizeTree).reduce((N,{k:$,v:Q})=>Se(N,Math.max(0,$+c),Q),R),D!==-c){const N=nt(p.sizeTree,J);R=Se(R,0,N);const $=Be(p.sizeTree,-c+1)[1];R=Se(R,1,$)}return H(U(H({},p),{sizeTree:R}),Lt(p.offsetTree,0,R,C))}else{const R=_e(p.sizeTree).reduce((F,{k:D,v:V})=>Se(F,Math.max(0,D+c),V),Ye());return H(U(H({},p),{sizeTree:R}),Lt(p.offsetTree,0,R,C))}})),a),{beforeUnshiftWith:E,data:z,defaultItemSize:h,firstItemIndex:s,fixedItemSize:d,fixedGroupSize:T,gap:I,groupIndices:u,heightEstimates:g,itemSize:v,listRefresh:B,shiftWith:l,shiftWithOffset:M,sizeRanges:o,sizes:a,statefulTotalCount:r,totalCount:n,trackItemSizes:w,unshiftWith:i}},oe(Ve,Gt),{singleton:!0});function Wn(e){return e.reduce((t,o)=>(t.groupIndices.push(t.totalCount),t.totalCount+=o+1,t),{groupIndices:[],totalCount:0})}const Ao=K(([{groupIndices:e,sizes:t,totalCount:o},{headerHeight:n,scrollTop:r}])=>{const i=_(),l=_(),s=we(x(i,y(Wn)));return k(x(s,y(u=>u.totalCount)),o),k(x(s,y(u=>u.groupIndices)),e),k(x(ue(r,t,n),P(([u,d])=>Rt(d)),y(([u,d,h])=>Be(d.groupOffsetTree,Math.max(u-h,0),"v")[0]),te(),y(u=>[u])),l),{groupCounts:i,topItemsIndexes:l}},oe(Me,pe)),Ge=K(([{log:e}])=>{const t=S(!1),o=we(x(t,P(n=>n),te()));return Z(t,n=>{n&&ie(e)("props updated",{},Ce.DEBUG)}),{didMount:o,propsReady:t}},oe(Ve),{singleton:!0}),Pn=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Do(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!Pn)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const at=K(([{gap:e,listRefresh:t,sizes:o,totalCount:n},{fixedFooterHeight:r,fixedHeaderHeight:i,footerHeight:l,headerHeight:s,scrollingInProgress:u,scrollTo:d,smoothScrollTargetReached:h,viewportHeight:T},{log:g}])=>{const v=_(),z=_(),I=S(0);let m=null,a=null,f=null;function w(){m&&(m(),m=null),f&&(f(),f=null),a&&(clearTimeout(a),a=null),j(u,!1)}return k(x(v,A(o,T,n,I,s,l,g),A(e,i,r),y(([[B,E,M,c,p,C,R,F],D,V,J])=>{const N=Do(B),{align:$,behavior:Q,offset:xe}=N,ve=c-1,Ie=jo(N,E,ve);let Te=it(Ie,E.offsetTree,D)+C;$==="end"?(Te+=V+Be(E.sizeTree,Ie)[1]-M+J,Ie===ve&&(Te+=R)):$==="center"?Te+=(V+Be(E.sizeTree,Ie)[1]-M+J)/2:Te-=p,xe&&(Te+=xe);const ke=He=>{w(),He?(F("retrying to scroll to",{location:B},Ce.DEBUG),j(v,B)):(j(z,!0),F("list did not change, scroll successful",{},Ce.DEBUG))};if(w(),Q==="smooth"){let He=!1;f=Z(t,Pe=>{He=He||Pe}),m=ye(h,()=>{ke(He)})}else m=ye(x(t,Ln(150)),ke);return a=setTimeout(()=>{w()},1200),j(u,!0),F("scrolling from index to",{behavior:Q,index:Ie,top:Te},Ce.DEBUG),{behavior:Q,top:Te}})),d),{scrollTargetReached:z,scrollToIndex:v,topListHeight:I}},oe(Me,pe,Ve),{singleton:!0});function Ln(e){return t=>{const o=setTimeout(()=>{t(!1)},e);return n=>{n&&(t(!0),clearTimeout(o))}}}function _t(e,t){e==0?t():requestAnimationFrame(()=>{_t(e-1,t)})}function Ut(e,t){const o=t-1;return typeof e=="number"?e:e.index==="LAST"?o:e.index}const dt=K(([{defaultItemSize:e,listRefresh:t,sizes:o},{scrollTop:n},{scrollTargetReached:r,scrollToIndex:i},{didMount:l}])=>{const s=S(!0),u=S(0),d=S(!0);return k(x(l,A(u),P(([h,T])=>!!T),Oe(!1)),s),k(x(l,A(u),P(([h,T])=>!!T),Oe(!1)),d),Z(x(ue(t,l),A(s,o,e,d),P(([[,h],T,{sizeTree:g},v,z])=>h&&(!X(g)||At(v))&&!T&&!z),A(u)),([,h])=>{ye(r,()=>{j(d,!0)}),_t(4,()=>{ye(n,()=>{j(s,!0)}),j(i,h)})}),{initialItemFinalLocationReached:d,initialTopMostItemIndex:u,scrolledToInitialItem:s}},oe(Me,pe,at,Ge),{singleton:!0});function Vo(e,t){return Math.abs(e-t)<1.01}const lt="up",et="down",jn="none",An={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},Dn=0,ft=K(([{footerHeight:e,headerHeight:t,scrollBy:o,scrollContainerState:n,scrollTop:r,viewportHeight:i}])=>{const l=S(!1),s=S(!0),u=_(),d=_(),h=S(4),T=S(Dn),g=ge(x(Ft(x(W(r),Ue(1),Oe(!0)),x(W(r),Ue(1),Oe(!1),uo(100))),te()),!1),v=ge(x(Ft(x(o,Oe(!0)),x(o,Oe(!1),uo(200))),te()),!1);k(x(ue(W(r),W(T)),y(([f,w])=>f<=w),te()),s),k(x(s,We(50)),d);const z=we(x(ue(n,W(i),W(t),W(e),W(h)),Fe((f,[{scrollHeight:w,scrollTop:B},E,M,c,p])=>{const C=B+E-w>-p,R={scrollHeight:w,scrollTop:B,viewportHeight:E};if(C){let D,V;return B>f.state.scrollTop?(D="SCROLLED_DOWN",V=f.state.scrollTop-B):(D="SIZE_DECREASED",V=f.state.scrollTop-B||f.scrollTopDelta),{atBottom:!0,atBottomBecause:D,scrollTopDelta:V,state:R}}let F;return R.scrollHeight>f.state.scrollHeight?F="SIZE_INCREASED":E<f.state.viewportHeight?F="VIEWPORT_HEIGHT_DECREASING":B<f.state.scrollTop?F="SCROLLING_UPWARDS":F="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:F,state:R}},An),te((f,w)=>f&&f.atBottom===w.atBottom))),I=ge(x(n,Fe((f,{scrollHeight:w,scrollTop:B,viewportHeight:E})=>{if(Vo(f.scrollHeight,w))return{changed:!1,jump:0,scrollHeight:w,scrollTop:B};{const M=w-(B+E)<1;return f.scrollTop!==B&&M?{changed:!0,jump:f.scrollTop-B,scrollHeight:w,scrollTop:B}:{changed:!0,jump:0,scrollHeight:w,scrollTop:B}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),P(f=>f.changed),y(f=>f.jump)),0);k(x(z,y(f=>f.atBottom)),l),k(x(l,We(50)),u);const m=S(et);k(x(n,y(({scrollTop:f})=>f),te(),Fe((f,w)=>ie(v)?{direction:f.direction,prevScrollTop:w}:{direction:w<f.prevScrollTop?lt:et,prevScrollTop:w},{direction:et,prevScrollTop:0}),y(f=>f.direction)),m),k(x(n,We(50),Oe(jn)),m);const a=S(0);return k(x(g,P(f=>!f),Oe(0)),a),k(x(r,We(100),A(g),P(([f,w])=>w),Fe(([f,w],[B])=>[w,B],[0,0]),y(([f,w])=>w-f)),a),{atBottomState:z,atBottomStateChange:u,atBottomThreshold:h,atTopStateChange:d,atTopThreshold:T,isAtBottom:l,isAtTop:s,isScrolling:g,lastJumpDueToItemResize:I,scrollDirection:m,scrollVelocity:a}},oe(pe)),st="top",ut="bottom",fo="none";function ho(e,t,o){return typeof e=="number"?o===lt&&t===st||o===et&&t===ut?e:0:o===lt?t===st?e.main:e.reverse:t===ut?e.main:e.reverse}function mo(e,t){var o;return typeof e=="number"?e:(o=e[t])!=null?o:0}const Kt=K(([{deviation:e,fixedHeaderHeight:t,headerHeight:o,scrollTop:n,viewportHeight:r}])=>{const i=_(),l=S(0),s=S(0),u=S(0),d=ge(x(ue(W(n),W(r),W(o),W(i,rt),W(u),W(l),W(t),W(e),W(s)),y(([h,T,g,[v,z],I,m,a,f,w])=>{const B=h-f,E=m+a,M=Math.max(g-B,0);let c=fo;const p=mo(w,st),C=mo(w,ut);return v-=f,v+=g+a,z+=g+a,z-=f,v>h+E-p&&(c=lt),z<h-M+T+C&&(c=et),c!==fo?[Math.max(B-g-ho(I,st,c)-p,0),B-M-a+T+ho(I,ut,c)+C]:null}),P(h=>h!=null),te(rt)),[0,0]);return{increaseViewportBy:s,listBoundary:i,overscan:u,topListHeight:l,visibleRange:d}},oe(pe),{singleton:!0});function Vn(e,t,o){if(Rt(t)){const n=Lo(e,t);return[{index:Be(t.groupOffsetTree,n)[0],offset:0,size:0},{data:o==null?void 0:o[0],index:n,offset:0,size:0}]}return[{data:o==null?void 0:o[0],index:e,offset:0,size:0}]}const Et={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function It(e,t,o,n,r,i){const{lastIndex:l,lastOffset:s,lastSize:u}=r;let d=0,h=0;if(e.length>0){d=e[0].offset;const I=e[e.length-1];h=I.offset+I.size}const T=o-l,g=s+T*u+(T-1)*n,v=d,z=g-h;return{bottom:h,firstItemIndex:i,items:go(e,r,i),offsetBottom:z,offsetTop:d,top:v,topItems:go(t,r,i),topListHeight:t.reduce((I,m)=>m.size+I,0),totalCount:o}}function Go(e,t,o,n,r,i){let l=0;if(o.groupIndices.length>0)for(const h of o.groupIndices){if(h-l>=e)break;l++}const s=e+l,u=Ut(t,s),d=Array.from({length:s}).map((h,T)=>({data:i[T+u],index:T+u,offset:0,size:0}));return It(d,[],s,r,o,n)}function go(e,t,o){if(e.length===0)return[];if(!Rt(t))return e.map(d=>U(H({},d),{index:d.index+o,originalIndex:d.index}));const n=e[0].index,r=e[e.length-1].index,i=[],l=Xe(t.groupOffsetTree,n,r);let s,u=0;for(const d of e){(!s||s.end<d.index)&&(s=l.shift(),u=t.groupIndices.indexOf(s.start));let h;d.index===s.start?h={index:u,type:"group"}:h={groupIndex:u,index:d.index-(u+1)+o},i.push(U(H({},h),{data:d.data,offset:d.offset,originalIndex:d.index,size:d.size}))}return i}function po(e,t){var o;return e===void 0?0:typeof e=="number"?e:(o=e[t])!=null?o:0}const qe=K(([{data:e,firstItemIndex:t,gap:o,sizes:n,totalCount:r},i,{listBoundary:l,topListHeight:s,visibleRange:u},{initialTopMostItemIndex:d,scrolledToInitialItem:h},{topListHeight:T},g,{didMount:v},{recalcInProgress:z}])=>{const I=S([]),m=S(0),a=_(),f=S(0);k(i.topItemsIndexes,I);const w=ge(x(ue(v,z,W(u,rt),W(r),W(n),W(d),h,W(I),W(t),W(o),W(f),e),P(([c,p,,C,,,,,,,,R])=>{const F=R&&R.length!==C;return c&&!p&&!F}),y(([,,[c,p],C,R,F,D,V,J,N,$,Q])=>{var xe,ve,Ie,Te;const ke=R,{offsetTree:He,sizeTree:Pe}=ke,Qe=ie(m);if(C===0)return U(H({},Et),{totalCount:C});if(c===0&&p===0)return Qe===0?U(H({},Et),{totalCount:C}):Go(Qe,F,R,J,N,Q||[]);if(X(Pe))return Qe>0?null:It(Vn(Ut(F,C),ke,Q),[],C,N,ke,J);const Ze=[];if(V.length>0){const ce=V[0],le=V[V.length-1];let de=0;for(const se of Xe(Pe,ce,le)){const Y=se.value,ee=Math.max(se.start,ce),Re=Math.min(se.end,le);for(let he=ee;he<=Re;he++)Ze.push({data:Q==null?void 0:Q[he],index:he,offset:de,size:Y}),de+=Y}}if(!D)return It([],Ze,C,N,ke,J);const Le=V.length>0?V[V.length-1]+1:0,b=En(He,c,p,Le);if(b.length===0)return null;const q=C-1,ne=zt([],ce=>{for(const le of b){const de=le.value;let se=de.offset,Y=le.start;const ee=de.size;if(de.offset<c){Y+=Math.floor((c-de.offset+N)/(ee+N));const he=Y-le.start;se+=he*ee+he*N}Y<Le&&(se+=(Le-Y)*ee,Y=Le);const Re=Math.min(le.end,q);for(let he=Y;he<=Re&&!(se>=p);he++)ce.push({data:Q==null?void 0:Q[he],index:he,offset:se,size:ee}),se+=ee+N}}),fe=po($,st),ze=po($,ut);if(ne.length>0&&(fe>0||ze>0)){const ce=ne[0],le=ne[ne.length-1];if(fe>0&&ce.index>Le){const de=Math.min(fe,ce.index-Le),se=[];let Y=ce.offset;for(let ee=ce.index-1;ee>=ce.index-de;ee--){const Re=(ve=(xe=Xe(Pe,ee,ee)[0])==null?void 0:xe.value)!=null?ve:ce.size;Y-=Re+N,se.unshift({data:Q==null?void 0:Q[ee],index:ee,offset:Y,size:Re})}ne.unshift(...se)}if(ze>0&&le.index<q){const de=Math.min(ze,q-le.index);let se=le.offset+le.size+N;for(let Y=le.index+1;Y<=le.index+de;Y++){const ee=(Te=(Ie=Xe(Pe,Y,Y)[0])==null?void 0:Ie.value)!=null?Te:le.size;ne.push({data:Q==null?void 0:Q[Y],index:Y,offset:se,size:ee}),se+=ee+N}}}return It(ne,Ze,C,N,ke,J)}),P(c=>c!==null),te()),Et);k(x(e,P(At),y(c=>c==null?void 0:c.length)),r),k(x(w,y(c=>c.topListHeight)),T),k(T,s),k(x(w,y(c=>[c.top,c.bottom])),l),k(x(w,y(c=>c.items)),a);const B=we(x(w,P(({items:c})=>c.length>0),A(r,e),P(([{items:c},p])=>c[c.length-1].originalIndex===p-1),y(([,c,p])=>[c-1,p]),te(rt),y(([c])=>c))),E=we(x(w,We(200),P(({items:c,topItems:p})=>c.length>0&&c[0].originalIndex===p.length),y(({items:c})=>c[0].index),te())),M=we(x(w,P(({items:c})=>c.length>0),y(({items:c})=>{let p=0,C=c.length-1;for(;c[p].type==="group"&&p<C;)p++;for(;c[C].type==="group"&&C>p;)C--;return{endIndex:c[C].index,startIndex:c[p].index}}),te(Wo)));return H({endReached:B,initialItemCount:m,itemsRendered:a,listState:w,minOverscanItemCount:f,rangeChanged:M,startReached:E,topItemsIndexes:I},g)},oe(Me,Ao,Kt,dt,at,ft,Ge,Gt),{singleton:!0}),No=K(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:o,headerHeight:n},{listState:r}])=>{const i=_(),l=ge(x(ue(o,e,n,t,r),y(([s,u,d,h,T])=>s+u+d+h+T.offsetBottom+T.bottom)),0);return k(W(l),i),{totalListHeight:l,totalListHeightChanged:i}},oe(pe,qe),{singleton:!0}),Gn=K(([{viewportHeight:e},{totalListHeight:t}])=>{const o=S(!1),n=ge(x(ue(o,e,t),P(([r])=>r),y(([,r,i])=>Math.max(0,r-i)),We(0),te()),0);return{alignToBottom:o,paddingTopAddition:n}},oe(pe,No),{singleton:!0}),_o=K(()=>({context:S(null)})),Nn=s=>{var u=s,{itemBottom:e,itemTop:t,locationParams:d}=u,h=d,{align:o,behavior:n}=h,r=je(h,["align","behavior"]),{viewportBottom:i,viewportTop:l}=u;return t<l?U(H({},r),{align:o!=null?o:"start",behavior:n}):e>i?U(H({},r),{align:o!=null?o:"end",behavior:n}):null},Uo=K(([{gap:e,sizes:t,totalCount:o},{fixedFooterHeight:n,fixedHeaderHeight:r,headerHeight:i,scrollingInProgress:l,scrollTop:s,viewportHeight:u},{scrollToIndex:d}])=>{const h=_();return k(x(h,A(t,u,o,i,r,n,s),A(e),y(([[T,g,v,z,I,m,a,f],w])=>{const N=T,{align:B,behavior:E,calculateViewLocation:M=Nn,done:c}=N,p=je(N,["align","behavior","calculateViewLocation","done"]),C=jo(T,g,z-1),R=it(C,g.offsetTree,w)+I+m,F=R+Be(g.sizeTree,C)[1],D=f+m,V=f+v-a,J=M({itemBottom:F,itemTop:R,locationParams:H({align:B,behavior:E},p),viewportBottom:V,viewportTop:D});return J?c&&ye(x(l,P($=>!$),Ue(ie(l)?1:2)),c):c==null||c(),J}),P(T=>T!==null)),d),{scrollIntoView:h}},oe(Me,pe,at,qe,Ve),{singleton:!0});function xo(e){return e?e==="smooth"?"smooth":"auto":!1}const _n=(e,t)=>typeof e=="function"?xo(e(t)):t&&xo(e),Un=K(([{listRefresh:e,totalCount:t,fixedItemSize:o,data:n},{atBottomState:r,isAtBottom:i},{scrollToIndex:l},{scrolledToInitialItem:s},{didMount:u,propsReady:d},{log:h},{scrollingInProgress:T},{context:g},{scrollIntoView:v}])=>{const z=S(!1),I=_();let m=null;function a(E){j(l,{align:"end",behavior:E,index:"LAST"})}Z(x(ue(x(W(t),Ue(1)),u),A(W(z),i,s,T),y(([[E,M],c,p,C,R])=>{let F=M&&C,D="auto";return F&&(D=_n(c,p||R),F=F&&!!D),{followOutputBehavior:D,shouldFollow:F,totalCount:E}}),P(({shouldFollow:E})=>E)),({followOutputBehavior:E,totalCount:M})=>{m&&(m(),m=null),ie(o)?requestAnimationFrame(()=>{ie(h)("following output to ",{totalCount:M},Ce.DEBUG),a(E)}):m=ye(e,()=>{ie(h)("following output to ",{totalCount:M},Ce.DEBUG),a(E),m=null})});function f(E){const M=ye(r,c=>{E&&!c.atBottom&&c.notAtBottomBecause==="SIZE_INCREASED"&&!m&&(ie(h)("scrolling to bottom due to increased size",{},Ce.DEBUG),a("auto"))});setTimeout(M,100)}Z(x(ue(W(z),t,d),P(([E,,M])=>E&&M),Fe(({value:E},[,M])=>({refreshed:E===M,value:M}),{refreshed:!1,value:0}),P(({refreshed:E})=>E),A(z,t)),([,E])=>{ie(s)&&f(E!==!1)}),Z(I,()=>{f(ie(z)!==!1)}),Z(ue(W(z),r),([E,M])=>{E&&!M.atBottom&&M.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&a("auto")});const w=S(null),B=_();return k(Ft(x(W(n),y(E=>{var M;return(M=E==null?void 0:E.length)!=null?M:0})),x(W(t))),B),Z(x(ue(x(B,Ue(1)),u),A(W(w),s,T,g),y(([[E,M],c,p,C,R])=>M&&p&&(c==null?void 0:c({context:R,totalCount:E,scrollingInProgress:C}))),P(E=>!!E),We(0)),E=>{m&&(m(),m=null),ie(o)?requestAnimationFrame(()=>{ie(h)("scrolling into view",{}),j(v,E)}):m=ye(e,()=>{ie(h)("scrolling into view",{}),j(v,E),m=null})}),{autoscrollToBottom:I,followOutput:z,scrollIntoViewOnChange:w}},oe(Me,ft,at,dt,Ge,Ve,pe,_o,Uo)),Kn=K(([{data:e,firstItemIndex:t,gap:o,sizes:n},{initialTopMostItemIndex:r},{initialItemCount:i,listState:l},{didMount:s}])=>(k(x(s,A(i),P(([,u])=>u!==0),A(r,n,t,o,e),y(([[,u],d,h,T,g,v=[]])=>Go(u,d,h,T,g,v))),l),{}),oe(Me,dt,qe,Ge),{singleton:!0}),qn=K(([{didMount:e},{scrollTo:t},{listState:o}])=>{const n=S(0);return Z(x(e,A(n),P(([,r])=>r!==0),y(([,r])=>({top:r}))),r=>{ye(x(o,Ue(1),P(i=>i.items.length>1)),()=>{requestAnimationFrame(()=>{j(t,r)})})}),{initialScrollTop:n}},oe(Ge,pe,qe),{singleton:!0}),Ko=K(([{scrollVelocity:e}])=>{const t=S(!1),o=_(),n=S(!1);return k(x(e,A(n,t,o),P(([r,i])=>!!i),y(([r,i,l,s])=>{const{enter:u,exit:d}=i;if(l){if(d(r,s))return!1}else if(u(r,s))return!0;return l}),te()),t),Z(x(ue(t,e,o),A(n)),([[r,i,l],s])=>{r&&s&&s.change&&s.change(i,l)}),{isSeeking:t,scrollSeekConfiguration:n,scrollSeekRangeChanged:o,scrollVelocity:e}},oe(ft),{singleton:!0}),qt=K(([{scrollContainerState:e,scrollTo:t}])=>{const o=_(),n=_(),r=_(),i=S(!1),l=S(void 0);return k(x(ue(o,n),y(([{scrollHeight:s,scrollTop:u,viewportHeight:d},{offsetTop:h}])=>({scrollHeight:s,scrollTop:Math.max(0,u-h),viewportHeight:d}))),e),k(x(t,A(n),y(([s,{offsetTop:u}])=>U(H({},s),{top:s.top+u}))),r),{customScrollParent:l,useWindowScroll:i,windowScrollContainerState:o,windowScrollTo:r,windowViewportRect:n}},oe(pe)),Zn=K(([{sizeRanges:e,sizes:t},{headerHeight:o,scrollTop:n},{initialTopMostItemIndex:r},{didMount:i},{useWindowScroll:l,windowScrollContainerState:s,windowViewportRect:u}])=>{const d=_(),h=S(void 0),T=S(null),g=S(null);return k(s,T),k(u,g),Z(x(d,A(t,n,l,T,g,o)),([v,z,I,m,a,f,w])=>{const B=kn(z.sizeTree);m&&a!==null&&f!==null&&(I=a.scrollTop-f.offsetTop),I-=w,v({ranges:B,scrollTop:I})}),k(x(h,P(At),y($n)),r),k(x(i,A(h),P(([,v])=>v!==void 0),te(),y(([,v])=>v.ranges)),e),{getState:d,restoreStateFrom:h}},oe(Me,pe,dt,Ge,qt));function $n(e){return{align:"start",index:0,offset:e.scrollTop}}const Yn=K(([{topItemsIndexes:e}])=>{const t=S(0);return k(x(t,P(o=>o>=0),y(o=>Array.from({length:o}).map((n,r)=>r))),e),{topItemCount:t}},oe(qe));function qo(e){let t=!1,o;return(()=>(t||(t=!0,o=e()),o))}const Xn=qo(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Jn=K(([{deviation:e,scrollBy:t,scrollingInProgress:o,scrollTop:n},{isAtBottom:r,isScrolling:i,lastJumpDueToItemResize:l,scrollDirection:s},{listState:u},{beforeUnshiftWith:d,gap:h,shiftWithOffset:T,sizes:g},{log:v},{recalcInProgress:z}])=>{const I=we(x(u,A(l),Fe(([,a,f,w],[{bottom:B,items:E,offsetBottom:M,totalCount:c},p])=>{const C=B+M;let R=0;return f===c&&a.length>0&&E.length>0&&(E[0].originalIndex===0&&a[0].originalIndex===0||(R=C-w,R!==0&&(R+=p))),[R,E,c,C]},[0,[],0,0]),P(([a])=>a!==0),A(n,s,o,r,v,z),P(([,a,f,w,,,B])=>!B&&!w&&a!==0&&f===lt),y(([[a],,,,,f])=>(f("Upward scrolling compensation",{amount:a},Ce.DEBUG),a))));function m(a){a>0?(j(t,{behavior:"auto",top:-a}),j(e,0)):(j(e,0),j(t,{behavior:"auto",top:-a}))}return Z(x(I,A(e,i)),([a,f,w])=>{w&&Xn()?j(e,f-a):m(-a)}),Z(x(ue(ge(i,!1),e,z),P(([a,f,w])=>!a&&!w&&f!==0),y(([a,f])=>f),We(1)),m),k(x(T,y(a=>({top:-a}))),t),Z(x(d,A(g,h),y(([a,{groupIndices:f,lastSize:w,sizeTree:B},E])=>{function M(c){return c*(w+E)}if(f.length===0)return M(a);{let c=0;const p=nt(B,0);let C=0,R=0;for(;C<a;){C++,c+=p;let F=f.length===R+1?1/0:f[R+1]-f[R]-1;C+F>a&&(c-=p,F=a-C+1),C+=F,c+=M(F),R++}return c}})),a=>{j(e,a),requestAnimationFrame(()=>{j(t,{top:a}),requestAnimationFrame(()=>{j(e,0),j(z,!1)})})}),{deviation:e}},oe(pe,ft,qe,Me,Ve,Gt)),Qn=K(([e,t,o,n,r,i,l,s,u,d,h])=>H(H(H(H(H(H(H(H(H(H(H({},e),t),o),n),r),i),l),s),u),d),h),oe(Kt,Kn,Ge,Ko,No,qn,Gn,qt,Uo,Ve,_o)),Zo=K(([{data:e,defaultItemSize:t,firstItemIndex:o,fixedItemSize:n,fixedGroupSize:r,gap:i,groupIndices:l,heightEstimates:s,itemSize:u,sizeRanges:d,sizes:h,statefulTotalCount:T,totalCount:g,trackItemSizes:v},{initialItemFinalLocationReached:z,initialTopMostItemIndex:I,scrolledToInitialItem:m},a,f,w,B,{scrollToIndex:E},M,{topItemCount:c},{groupCounts:p},C])=>{const N=B,{listState:R,minOverscanItemCount:F,topItemsIndexes:D,rangeChanged:V}=N,J=je(N,["listState","minOverscanItemCount","topItemsIndexes","rangeChanged"]);return k(V,C.scrollSeekRangeChanged),k(x(C.windowViewportRect,y($=>$.visibleHeight)),a.viewportHeight),H(U(H(H(H(U(H({data:e,defaultItemHeight:t,firstItemIndex:o,fixedItemHeight:n,fixedGroupHeight:r,gap:i,groupCounts:p,heightEstimates:s,initialItemFinalLocationReached:z,initialTopMostItemIndex:I,scrolledToInitialItem:m,sizeRanges:d,topItemCount:c,topItemsIndexes:D,totalCount:g},w),{groupIndices:l,itemSize:u,listState:R,minOverscanItemCount:F,scrollToIndex:E,statefulTotalCount:T,trackItemSizes:v,rangeChanged:V}),J),C),a),{sizes:h}),f)},oe(Me,dt,pe,Zn,Un,qe,at,Jn,Yn,Ao,Qn));function er(e,t){const o={},n={};let r=0;const i=e.length;for(;r<i;)n[e[r]]=1,r+=1;for(const l in t)Object.hasOwn(n,l)||(o[l]=t[l]);return o}const gt=typeof document<"u"?O.useLayoutEffect:O.useEffect;function $o(e,t,o){const n=Object.keys(t.required||{}),r=Object.keys(t.optional||{}),i=Object.keys(t.methods||{}),l=Object.keys(t.events||{}),s=O.createContext({});function u(m,a){m.propsReady&&j(m.propsReady,!1);for(const f of n){const w=m[t.required[f]];j(w,a[f])}for(const f of r)if(f in a){const w=m[t.optional[f]];j(w,a[f])}m.propsReady&&j(m.propsReady,!0)}function d(m){return i.reduce((a,f)=>(a[f]=w=>{const B=m[t.methods[f]];j(B,w)},a),{})}function h(m){return l.reduce((a,f)=>(a[f]=pn(m[t.events[f]]),a),{})}const T=O.forwardRef((m,a)=>{const c=m,{children:f}=c,w=je(c,["children"]),[B]=O.useState(()=>zt(vn(e),p=>{u(p,w)})),[E]=O.useState(so(h,B));gt(()=>{for(const p of l)p in w&&Z(E[p],w[p]);return()=>{Object.values(E).map(Dt)}},[w,E,B]),gt(()=>{u(B,w)}),O.useImperativeHandle(a,lo(d(B)));const M=o;return G.jsx(s.Provider,{value:B,children:o?G.jsx(M,U(H({},er([...n,...r,...l],w)),{children:f})):f})}),g=m=>{const a=O.useContext(s);return O.useCallback(f=>{j(a[m],f)},[a,m])},v=m=>{const a=O.useContext(s)[m],f=O.useCallback(w=>Z(a,w),[a]);return O.useSyncExternalStore(f,()=>ie(a),()=>ie(a))},z=m=>{const a=O.useContext(s)[m],[f,w]=O.useState(so(ie,a));return gt(()=>Z(a,B=>{B!==f&&w(lo(B))}),[a,f]),f},I=O.version.startsWith("18")?v:z;return{Component:T,useEmitter:(m,a)=>{const f=O.useContext(s)[m];gt(()=>Z(f,a),[a,f])},useEmitterValue:I,usePublisher:g}}const Yo=O.createContext(void 0),Xo=O.createContext(void 0),Jo=typeof document<"u"?O.useLayoutEffect:O.useEffect;function Bt(e){return"self"in e}function tr(e){return"body"in e}function Qo(e,t,o,n=ct,r,i){const l=O.useRef(null),s=O.useRef(null),u=O.useRef(null),d=O.useCallback(g=>{let v,z,I;const m=g.target;if(tr(m)||Bt(m)){const f=Bt(m)?m:m.defaultView;I=i?f.scrollX:f.scrollY,v=i?f.document.documentElement.scrollWidth:f.document.documentElement.scrollHeight,z=i?f.innerWidth:f.innerHeight}else I=i?m.scrollLeft:m.scrollTop,v=i?m.scrollWidth:m.scrollHeight,z=i?m.offsetWidth:m.offsetHeight;const a=()=>{e({scrollHeight:v,scrollTop:Math.max(I,0),viewportHeight:z})};g.suppressFlushSync?a():an.flushSync(a),s.current!==null&&(I===s.current||I<=0||I===v-z)&&(s.current=null,t(!0),u.current&&(clearTimeout(u.current),u.current=null))},[e,t,i]);O.useEffect(()=>{const g=r||l.current;return n(r||l.current),d({suppressFlushSync:!0,target:g}),g.addEventListener("scroll",d,{passive:!0}),()=>{n(null),g.removeEventListener("scroll",d)}},[l,d,o,n,r]);function h(g){const v=l.current;if(!v||(i?"offsetWidth"in v&&v.offsetWidth===0:"offsetHeight"in v&&v.offsetHeight===0))return;const z=g.behavior==="smooth";let I,m,a;Bt(v)?(m=Math.max(Ae(v.document.documentElement,i?"width":"height"),i?v.document.documentElement.scrollWidth:v.document.documentElement.scrollHeight),I=i?v.innerWidth:v.innerHeight,a=i?window.scrollX:window.scrollY):(m=v[i?"scrollWidth":"scrollHeight"],I=Ae(v,i?"width":"height"),a=v[i?"scrollLeft":"scrollTop"]);const f=m-I;if(g.top=Math.ceil(Math.max(Math.min(f,g.top),0)),Vo(I,m)||g.top===a){e({scrollHeight:m,scrollTop:a,viewportHeight:I}),z&&t(!0);return}z?(s.current=g.top,u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{u.current=null,s.current=null,t(!0)},1e3)):s.current=null,i&&(g={behavior:g.behavior,left:g.top}),v.scrollTo(g)}function T(g){i&&(g={behavior:g.behavior,left:g.top}),l.current.scrollBy(g)}return{scrollByCallback:T,scrollerRef:l,scrollToCallback:h}}const kt="-webkit-sticky",vo="sticky",Zt=qo(()=>{if(typeof document>"u")return vo;const e=document.createElement("div");return e.style.position=kt,e.style.position===kt?kt:vo});function $t(e){return e}const or=K(()=>{const e=S(s=>`Item ${s}`),t=S(s=>`Group ${s}`),o=S({}),n=S($t),r=S("div"),i=S(ct),l=(s,u=null)=>ge(x(o,y(d=>d[s]),te()),u);return{components:o,computeItemKey:n,EmptyPlaceholder:l("EmptyPlaceholder"),FooterComponent:l("Footer"),GroupComponent:l("Group","div"),groupContent:t,HeaderComponent:l("Header"),HeaderFooterTag:r,ItemComponent:l("Item","div"),itemContent:e,ListComponent:l("List","div"),ScrollerComponent:l("Scroller","div"),scrollerRef:i,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TopItemListComponent:l("TopItemList")}});oe(Zo,or);Zt();const nr={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},rr={outline:"none",overflowX:"auto",position:"relative"},bt=e=>({height:"100%",position:"absolute",top:0,width:"100%"});Zt();function me(e,t){if(typeof e!="string")return{context:t}}function ir(e,t){return{item:typeof e=="string"?void 0:t}}function en({useEmitter:e,useEmitterValue:t,usePublisher:o}){return O.memo(function(s){var u=s,{children:n,style:r,context:i}=u,l=je(u,["children","style","context"]);const d=o("scrollContainerState"),h=t("ScrollerComponent"),T=o("smoothScrollTargetReached"),g=t("scrollerRef"),v=t("horizontalDirection")||!1,{scrollByCallback:z,scrollerRef:I,scrollToCallback:m}=Qo(d,T,h,g,void 0,v);return e("scrollTo",m),e("scrollBy",z),G.jsx(h,U(H(H({"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:I,style:H(H({},v?rr:nr),r),tabIndex:0},l),me(h,i)),{children:n}))})}function tn({useEmitter:e,useEmitterValue:t,usePublisher:o}){return O.memo(function(s){var u=s,{children:n,style:r,context:i}=u,l=je(u,["children","style","context"]);const d=o("windowScrollContainerState"),h=t("ScrollerComponent"),T=o("smoothScrollTargetReached"),g=t("totalListHeight"),v=t("deviation"),z=t("customScrollParent"),I=O.useRef(null),m=t("scrollerRef"),{scrollByCallback:a,scrollerRef:f,scrollToCallback:w}=Qo(d,T,h,m,z);return Jo(()=>{var B;return f.current=z||((B=I.current)==null?void 0:B.ownerDocument.defaultView),()=>{f.current=null}},[f,z]),e("windowScrollTo",w),e("scrollBy",a),G.jsx(h,U(H(H({ref:I,"data-virtuoso-scroller":!0,style:H(H({position:"relative"},r),g!==0?{height:g+v}:{})},l),me(h,i)),{children:n}))})}const lr=K(()=>{const e=S(d=>G.jsxs("td",{children:["Item $",d]})),t=S(null),o=S(d=>G.jsxs("td",{colSpan:1e3,children:["Group ",d]})),n=S(null),r=S(null),i=S({}),l=S($t),s=S(ct),u=(d,h=null)=>ge(x(i,y(T=>T[d]),te()),h);return{components:i,computeItemKey:l,context:t,EmptyPlaceholder:u("EmptyPlaceholder"),FillerRow:u("FillerRow"),fixedFooterContent:r,fixedHeaderContent:n,itemContent:e,groupContent:o,ScrollerComponent:u("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:u("ScrollSeekPlaceholder"),TableBodyComponent:u("TableBody","tbody"),TableComponent:u("Table","table"),TableFooterComponent:u("TableFoot","tfoot"),TableHeadComponent:u("TableHead","thead"),TableRowComponent:u("TableRow","tr"),GroupComponent:u("Group","tr")}}),sr=K(([e,t])=>H(H({},e),t),oe(Zo,lr)),ur=({height:e})=>G.jsx("tr",{children:G.jsx("td",{style:{height:e}})}),cr=({height:e})=>G.jsx("tr",{children:G.jsx("td",{style:{border:0,height:e,padding:0}})}),ar={overflowAnchor:"none"},Io={position:Zt(),zIndex:2,overflowAnchor:"none"},To=O.memo(function({showTopList:e=!1}){const t=L("listState"),o=L("computeItemKey"),n=L("firstItemIndex"),r=L("context"),i=L("isSeeking"),l=L("fixedHeaderHeight"),s=L("groupIndices").length>0,u=L("itemContent"),d=L("groupContent"),h=L("ScrollSeekPlaceholder")||ur,T=L("GroupComponent"),g=L("TableRowComponent"),v=(e?t.topItems:[]).reduce((I,m,a)=>(a===0?I.push(m.size):I.push(I[a-1]+m.size),I),[]),z=(e?t.topItems:t.items).map(I=>{const m=I.originalIndex,a=o(m+n,I.data,r),f=e?m===0?0:v[m-1]:0;return i?xt.createElement(h,U(H({},me(h,r)),{height:I.size,index:I.index,key:a,type:I.type||"item"})):I.type==="group"?xt.createElement(T,U(H({},me(T,r)),{"data-index":m,"data-item-index":I.index,"data-known-size":I.size,key:a,style:U(H({},Io),{top:l})}),d(I.index,r)):xt.createElement(g,U(H(H({},me(g,r)),ir(g,I.data)),{"data-index":m,"data-item-index":I.index,"data-known-size":I.size,"data-item-group-index":I.groupIndex,key:a,style:e?U(H({},Io),{top:l+f}):ar}),s?u(I.index,I.groupIndex,I.data,r):u(I.index,I.data,r))});return G.jsx(G.Fragment,{children:z})}),dr=O.memo(function(){const e=L("listState"),t=L("topItemsIndexes").length>0,o=Ee("sizeRanges"),n=L("useWindowScroll"),r=L("customScrollParent"),i=Ee("windowScrollContainerState"),l=Ee("scrollContainerState"),s=r||n?i:l,u=L("trackItemSizes"),d=L("itemSize"),h=L("log"),{callbackRef:T,ref:g}=Sn(o,d,u,s,h,void 0,r,!1,L("skipAnimationFrameInResizeObserver")),[v,z]=O.useState(0);Yt("deviation",R=>{v!==R&&(g.current.style.marginTop=`${R}px`,z(R))});const I=L("EmptyPlaceholder"),m=L("FillerRow")||cr,a=L("TableBodyComponent"),f=L("paddingTopAddition"),w=L("statefulTotalCount"),B=L("context");if(w===0&&I)return G.jsx(I,H({},me(I,B)));const E=(t?e.topItems:[]).reduce((R,F)=>R+F.size,0),M=e.offsetTop+f+v-E,c=e.offsetBottom,p=M>0?G.jsx(m,{context:B,height:M},"padding-top"):null,C=c>0?G.jsx(m,{context:B,height:c},"padding-bottom"):null;return G.jsxs(a,U(H({"data-testid":"virtuoso-item-list",ref:T},me(a,B)),{children:[p,t&&G.jsx(To,{showTopList:!0}),G.jsx(To,{}),C]}))}),fr=({children:e})=>{const t=O.useContext(Yo),o=Ee("viewportHeight"),n=Ee("fixedItemHeight"),r=Ke(O.useMemo(()=>Tt(o,i=>Ae(i,"height")),[o]),!0,L("skipAnimationFrameInResizeObserver"));return O.useEffect(()=>{t&&(o(t.viewportHeight),n(t.itemHeight))},[t,o,n]),G.jsx("div",{"data-viewport-type":"element",ref:r,style:bt(),children:e})},hr=({children:e})=>{const t=O.useContext(Yo),o=Ee("windowViewportRect"),n=Ee("fixedItemHeight"),r=L("customScrollParent"),i=Eo(o,r,L("skipAnimationFrameInResizeObserver"));return O.useEffect(()=>{t&&(n(t.itemHeight),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,o,n]),G.jsx("div",{"data-viewport-type":"window",ref:i,style:bt(),children:e})},mr=O.memo(function(e){const t=L("useWindowScroll"),o=L("customScrollParent"),n=Ee("fixedHeaderHeight"),r=Ee("fixedFooterHeight"),i=L("fixedHeaderContent"),l=L("fixedFooterContent"),s=L("context"),u=Ke(O.useMemo(()=>Tt(n,a=>Ae(a,"height")),[n]),!0,L("skipAnimationFrameInResizeObserver")),d=Ke(O.useMemo(()=>Tt(r,a=>Ae(a,"height")),[r]),!0,L("skipAnimationFrameInResizeObserver")),h=o||t?xr:pr,T=o||t?hr:fr,g=L("TableComponent"),v=L("TableHeadComponent"),z=L("TableFooterComponent"),I=i?G.jsx(v,U(H({ref:u,style:{position:"sticky",top:0,zIndex:2}},me(v,s)),{children:i()}),"TableHead"):null,m=l?G.jsx(z,U(H({ref:d,style:{bottom:0,position:"sticky",zIndex:1}},me(z,s)),{children:l()}),"TableFoot"):null;return G.jsx(h,U(H(H({},e),me(h,s)),{children:G.jsx(T,{children:G.jsxs(g,U(H({style:{borderSpacing:0,overflowAnchor:"none"}},me(g,s)),{children:[I,G.jsx(dr,{},"TableBody"),m]}))})}))}),{Component:gr,useEmitter:Yt,useEmitterValue:L,usePublisher:Ee}=$o(sr,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",minOverscanItemCount:"minOverscanItemCount",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},mr),pr=en({useEmitter:Yt,useEmitterValue:L,usePublisher:Ee}),xr=tn({useEmitter:Yt,useEmitterValue:L,usePublisher:Ee}),Mr=gr,So={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},vr={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:wo,floor:wt,max:tt,min:Ot,round:Co}=Math;function zo(e,t,o){return Array.from({length:t-e+1}).map((n,r)=>({data:o===null?null:o[r+e],index:r+e}))}function Ir(e){return U(H({},vr),{items:e})}function pt(e,t){return e&&e.width===t.width&&e.height===t.height}function Tr(e,t){return e&&e.column===t.column&&e.row===t.row}const Sr=K(([{increaseViewportBy:e,listBoundary:t,overscan:o,visibleRange:n},{footerHeight:r,headerHeight:i,scrollBy:l,scrollContainerState:s,scrollTo:u,scrollTop:d,smoothScrollTargetReached:h,viewportHeight:T},g,v,{didMount:z,propsReady:I},{customScrollParent:m,useWindowScroll:a,windowScrollContainerState:f,windowScrollTo:w,windowViewportRect:B},E])=>{const M=S(0),c=S(0),p=S(So),C=S({height:0,width:0}),R=S({height:0,width:0}),F=_(),D=_(),V=S(0),J=S(null),N=S({column:0,row:0}),$=_(),Q=_(),xe=S(!1),ve=S(0),Ie=S(!0),Te=S(!1),ke=S(!1);Z(x(z,A(ve),P(([b,q])=>!!q)),()=>{j(Ie,!1)}),Z(x(ue(z,Ie,R,C,ve,Te),P(([b,q,ne,fe,,ze])=>b&&!q&&ne.height!==0&&fe.height!==0&&!ze)),([,,,,b])=>{j(Te,!0),_t(1,()=>{j(F,b)}),ye(x(d),()=>{j(t,[0,0]),j(Ie,!0)})}),k(x(Q,P(b=>b!=null&&b.scrollTop>0),Oe(0)),c),Z(x(z,A(Q),P(([,b])=>b!=null)),([,b])=>{b&&(j(C,b.viewport),j(R,b.item),j(N,b.gap),b.scrollTop>0&&(j(xe,!0),ye(x(d,Ue(1)),q=>{j(xe,!1)}),j(u,{top:b.scrollTop})))}),k(x(C,y(({height:b})=>b)),T),k(x(ue(W(C,pt),W(R,pt),W(N,(b,q)=>b&&b.column===q.column&&b.row===q.row),W(d)),y(([b,q,ne,fe])=>({gap:ne,item:q,scrollTop:fe,viewport:b}))),$),k(x(ue(W(M),n,W(N,Tr),W(R,pt),W(C,pt),W(J),W(c),W(xe),W(Ie),W(ve)),P(([,,,,,,,b])=>!b),y(([b,[q,ne],fe,ze,ce,le,de,,se,Y])=>{const{column:ee,row:Re}=fe,{height:he,width:Ht}=ze,{width:Xt}=ce;if(de===0&&(b===0||Xt===0))return So;if(Ht===0){const oo=Ut(Y,b),ln=oo+Math.max(de-1,0);return Ir(zo(oo,ln,le))}const ht=on(Xt,Ht,ee);let $e,Ne;se?q===0&&ne===0&&de>0?($e=0,Ne=de-1):($e=ht*wt((q+Re)/(he+Re)),Ne=ht*wo((ne+Re)/(he+Re))-1,Ne=Ot(b-1,tt(Ne,ht-1)),$e=Ot(Ne,tt(0,$e))):($e=0,Ne=-1);const Jt=zo($e,Ne,le),{bottom:Qt,top:eo}=Ro(ce,fe,ze,Jt),to=wo(b/ht),rn=to*he+(to-1)*Re-Qt;return{bottom:Qt,itemHeight:he,items:Jt,itemWidth:Ht,offsetBottom:rn,offsetTop:eo,top:eo}})),p),k(x(J,P(b=>b!==null),y(b=>b.length)),M),k(x(ue(C,R,p,N),P(([b,q,{items:ne}])=>ne.length>0&&q.height!==0&&b.height!==0),y(([b,q,{items:ne},fe])=>{const{bottom:ze,top:ce}=Ro(b,fe,q,ne);return[ce,ze]}),te(rt)),t);const He=S(!1);k(x(d,A(He),y(([b,q])=>q||b!==0)),He);const Pe=we(x(ue(p,M),P(([{items:b}])=>b.length>0),A(He),P(([[b,q],ne])=>{const fe=b.items[b.items.length-1].index===q-1;return(ne||b.bottom>0&&b.itemHeight>0&&b.offsetBottom===0&&b.items.length===q)&&fe}),y(([[,b]])=>b-1),te())),Qe=we(x(W(p),P(({items:b})=>b.length>0&&b[0].index===0),Oe(0),te())),Ze=we(x(W(p),A(xe),P(([{items:b},q])=>b.length>0&&!q),y(([{items:b}])=>({endIndex:b[b.length-1].index,startIndex:b[0].index})),te(Wo),We(0)));k(Ze,v.scrollSeekRangeChanged),k(x(F,A(C,R,M,N),y(([b,q,ne,fe,ze])=>{const ce=Do(b),{align:le,behavior:de,offset:se}=ce;let Y=ce.index;Y==="LAST"&&(Y=fe-1),Y=tt(0,Y,Ot(fe-1,Y));let ee=jt(q,ze,ne,Y);return le==="end"?ee=Co(ee-q.height+ne.height):le==="center"&&(ee=Co(ee-q.height/2+ne.height/2)),se&&(ee+=se),{behavior:de,top:ee}})),u);const Le=ge(x(p,y(b=>b.offsetBottom+b.bottom)),0);return k(x(B,y(b=>({height:b.visibleHeight,width:b.visibleWidth}))),C),H(U(H(U(H({customScrollParent:m,data:J,deviation:V,footerHeight:r,gap:N,headerHeight:i,increaseViewportBy:e,initialItemCount:c,itemDimensions:R,overscan:o,restoreStateFrom:Q,scrollBy:l,scrollContainerState:s,scrollHeight:D,scrollTo:u,scrollToIndex:F,scrollTop:d,smoothScrollTargetReached:h,totalCount:M,useWindowScroll:a,viewportDimensions:C,windowScrollContainerState:f,windowScrollTo:w,windowViewportRect:B},v),{gridState:p,horizontalDirection:ke,initialTopMostItemIndex:ve,totalListHeight:Le}),g),{endReached:Pe,propsReady:I,rangeChanged:Ze,startReached:Qe,stateChanged:$,stateRestoreInProgress:xe}),E)},oe(Kt,pe,ft,Ko,Ge,qt,Ve));function on(e,t,o){return tt(1,wt((e+o)/(wt(t)+o)))}function Ro(e,t,o,n){const{height:r}=o;if(r===void 0||n.length===0)return{bottom:0,top:0};const i=jt(e,t,o,n[0].index);return{bottom:jt(e,t,o,n[n.length-1].index)+r,top:i}}function jt(e,t,o,n){const r=on(e.width,o.width,t.column),i=wt(n/r),l=i*o.height+tt(0,i-1)*t.row;return l>0?l+t.row:l}const wr=K(()=>{const e=S(T=>`Item ${T}`),t=S({}),o=S(null),n=S("virtuoso-grid-item"),r=S("virtuoso-grid-list"),i=S($t),l=S("div"),s=S(ct),u=(T,g=null)=>ge(x(t,y(v=>v[T]),te()),g),d=S(!1),h=S(!1);return k(W(h),d),{components:t,computeItemKey:i,context:o,FooterComponent:u("Footer"),HeaderComponent:u("Header"),headerFooterTag:l,itemClassName:n,ItemComponent:u("Item","div"),itemContent:e,listClassName:r,ListComponent:u("List","div"),readyStateChanged:d,reportReadyState:h,ScrollerComponent:u("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:u("ScrollSeekPlaceholder","div")}}),Cr=K(([e,t])=>H(H({},e),t),oe(Sr,wr)),zr=O.memo(function(){const e=re("gridState"),t=re("listClassName"),o=re("itemClassName"),n=re("itemContent"),r=re("computeItemKey"),i=re("isSeeking"),l=be("scrollHeight"),s=re("ItemComponent"),u=re("ListComponent"),d=re("ScrollSeekPlaceholder"),h=re("context"),T=be("itemDimensions"),g=be("gap"),v=re("log"),z=re("stateRestoreInProgress"),I=be("reportReadyState"),m=Ke(O.useMemo(()=>a=>{const f=a.parentElement.parentElement.scrollHeight;l(f);const w=a.firstChild;if(w){const{height:B,width:E}=w.getBoundingClientRect();T({height:B,width:E})}g({column:bo("column-gap",getComputedStyle(a).columnGap,v),row:bo("row-gap",getComputedStyle(a).rowGap,v)})},[l,T,g,v]),!0,!1);return Jo(()=>{e.itemHeight>0&&e.itemWidth>0&&I(!0)},[e]),z?null:G.jsx(u,U(H({className:t,ref:m},me(u,h)),{"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(a=>{const f=r(a.index,a.data,h);return i?G.jsx(d,U(H({},me(d,h)),{height:e.itemHeight,index:a.index,width:e.itemWidth}),f):xt.createElement(s,U(H({},me(s,h)),{className:o,"data-index":a.index,key:f}),n(a.index,a.data,h))})}))}),Rr=O.memo(function(){const e=re("HeaderComponent"),t=be("headerHeight"),o=re("headerFooterTag"),n=Ke(O.useMemo(()=>i=>{t(Ae(i,"height"))},[t]),!0,!1),r=re("context");return e?G.jsx(o,{ref:n,children:G.jsx(e,H({},me(e,r)))}):null}),br=O.memo(function(){const e=re("FooterComponent"),t=be("footerHeight"),o=re("headerFooterTag"),n=Ke(O.useMemo(()=>i=>{t(Ae(i,"height"))},[t]),!0,!1),r=re("context");return e?G.jsx(o,{ref:n,children:G.jsx(e,H({},me(e,r)))}):null}),Hr=({children:e})=>{const t=O.useContext(Xo),o=be("itemDimensions"),n=be("viewportDimensions"),r=Ke(O.useMemo(()=>i=>{n(i.getBoundingClientRect())},[n]),!0,!1);return O.useEffect(()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),o({height:t.itemHeight,width:t.itemWidth}))},[t,n,o]),G.jsx("div",{ref:r,style:bt(),children:e})},yr=({children:e})=>{const t=O.useContext(Xo),o=be("windowViewportRect"),n=be("itemDimensions"),r=re("customScrollParent"),i=Eo(o,r,!1);return O.useEffect(()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,o,n]),G.jsx("div",{ref:i,style:bt(),children:e})},Er=O.memo(function(t){var e=je(t,[]);const o=re("useWindowScroll"),n=re("customScrollParent"),r=n||o?kr:Br,i=n||o?yr:Hr,l=re("context");return G.jsx(r,U(H(H({},e),me(r,l)),{children:G.jsxs(i,{children:[G.jsx(Rr,{}),G.jsx(zr,{}),G.jsx(br,{})]})}))}),{useEmitter:nn,useEmitterValue:re,usePublisher:be}=$o(Cr,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},Er),Br=en({useEmitter:nn,useEmitterValue:re,usePublisher:be}),kr=tn({useEmitter:nn,useEmitterValue:re,usePublisher:be});function bo(e,t,o){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&o(`${e} was not resolved to pixel value correctly`,t,Ce.WARN),t==="normal"?0:parseInt(t!=null?t:"0",10)}export{Mr as X};
