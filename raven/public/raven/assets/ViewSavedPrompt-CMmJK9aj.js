var b=Object.defineProperty,h=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var l=(t,e,s)=>e in t?b(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,p=(t,e)=>{for(var s in e||(e={}))f.call(e,s)&&l(t,s,e[s]);if(c)for(var s of c(e))P.call(e,s)&&l(t,s,e[s]);return t},u=(t,e)=>h(t,j(e));import{bx as y,by as g,j as a,E as x,F as C,ah as E,u as w,r as F,ai as B,ax as L,o as k,d as D,a3 as I}from"./index-3Ycoded3.js";import{S as N}from"./SavedPromptForm-BTIOYUGQ.js";import{C as R}from"./CommonSettingsMenu-Drd_din0.js";import{P as A,S as V,a as H}from"./SettingsContentContainer-B70kiGi-.js";import{a as K}from"./validations-DJFqvO1k.js";import"./AINotEnabledCallout-D75c-TK4.js";import"./useRavenSettings-CtoBUiVb.js";import"./DeleteAlert-BN3ctxfA.js";const M=t=>{const{ID:e}=y(),{data:s,isLoading:n,error:i,mutate:o}=g("Raven Bot AI Prompt",e);return a.jsxs(A,{children:[a.jsx(x,{error:i}),n&&a.jsx(C,{className:"h-64"}),s&&a.jsx(T,{data:s,mutate:o})]})},T=({data:t,mutate:e})=>{const{updateDoc:s,loading:n,error:i}=E(),o=w({disabled:n,defaultValues:t}),{formState:{dirtyFields:S}}=o,v=!K(S),d=m=>{s("Raven Bot AI Prompt",m.name,m).then(r=>{I.success("Saved"),o.reset(r),e(r,{revalidate:!1})})};return F.useEffect(()=>{const m=r=>{r.key==="s"&&(r.metaKey||r.ctrlKey)&&(r.preventDefault(),o.handleSubmit(d)())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[]),a.jsx("form",{onSubmit:o.handleSubmit(d),children:a.jsx(B,u(p({},o),{children:a.jsxs(V,{children:[a.jsx(H,{title:t.name,headerBadges:v?[{label:"Not Saved",color:"red"}]:void 0,actions:a.jsxs(L,{children:[a.jsx(R,{doctype:"Raven Bot AI Prompt",docname:t.name,label:"Saved Prompt/Command"}),a.jsxs(k,{type:"submit",disabled:n,children:[n&&a.jsx(D,{className:"text-white"}),n?"Saving":"Save"]})]}),breadcrumbs:[{label:"Commands",href:"../"},{label:t.name,href:"",copyToClipboard:!0}]}),a.jsx(x,{error:i}),a.jsx(N,{})]})}))})},Y=M;export{Y as Component};
