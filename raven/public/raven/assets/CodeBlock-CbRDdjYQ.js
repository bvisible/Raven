var u=(a,i,e)=>new Promise((c,n)=>{var l=s=>{try{p(e.next(s))}catch(d){n(d)}},t=s=>{try{p(e.throw(s))}catch(d){n(d)}},p=s=>s.done?c(s.value):Promise.resolve(s.value).then(l,t);p((e=e.apply(a,i)).next())});import{r as m,j as r,a7 as y,n as g,cU as C,cx as h,a3 as x}from"./index-Bzdyr4lv.js";import{u as b,S as j,C as f,c as v,E as w,g as E,p as B,a as k,j as S,t as T,x as L,b as N}from"./index-C7yvjF9p.js";/* empty css                      */const o=v(E);o.register("python",B);o.register("css",k);o.register("js",S);o.register("ts",T);o.register("html",L);o.register("json",N);const P=({code:a})=>{const[i,e]=m.useState(!1),c=b({editorProps:{attributes:{class:"tiptap"}},editable:!1,extensions:[j,f.configure({lowlight:o})],content:`<pre><code>${a}</code></pre>`}),n=()=>u(null,null,function*(){var l;try{if((l=navigator==null?void 0:navigator.clipboard)!=null&&l.writeText)yield navigator.clipboard.writeText(a);else{const t=document.createElement("textarea");t.value=a,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}e(!0),x.success("Copied to clipboard",{duration:800}),setTimeout(()=>e(!1),2500)}catch(t){console.error("Copy failed:",t),x.error("Failed to copy")}});return c?r.jsxs("div",{className:"relative",children:[r.jsx(w,{editor:c}),r.jsx(y,{content:i?"Copied":"Copy",children:r.jsx(g,{variant:"ghost",size:"2",color:"gray",type:"button",className:"absolute right-3 top-7 text-gray-8 hover:text-gray-1",onClick:n,children:i?r.jsx(C,{}):r.jsx(h,{})})})]}):null};export{P as C};
