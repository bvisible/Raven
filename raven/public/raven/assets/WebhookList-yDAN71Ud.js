import{bm as h,r as b,j as e,a,i as c,aA as m,cZ as g,n as l,bp as p,ad as j,ae as x,bq as u,ag as y,ab as k,az as C,bD as v,c_ as f,o as w,f as E,E as S,c$ as W}from"./index-93kECIxS.js";import{A}from"./DeleteAlert-CjKv61hf.js";import{E as L,a as T,b as D,c as N,d as R}from"./EmptyListViewState-CZJArgGv.js";import{T as z}from"./TableLoader-D_IweTEt.js";import{P as O,S as $,a as P}from"./SettingsContentContainer-Df6uZS-7.js";import"./Skeleton-DlHB_Jmw.js";import"./table-T-ViWfBG.js";const _=({webhook:s,mutate:t})=>{const i=h(),[o,n]=b.useState(!1),r=()=>{n(!1)};return e.jsx(a,{direction:"column",gap:"2",width:"100%",justify:"between",className:"border border-gray-4 dark:border-gray-6 rounded-radius2 p-3",children:e.jsxs(a,{direction:"row",align:"center",justify:"between",children:[e.jsxs(a,{direction:"column",gap:"1",children:[e.jsxs(a,{direction:"row",gap:"2",children:[e.jsx(c,{size:"2",weight:"bold",children:s.name}),e.jsx(m,{color:s.enabled?"green":"red",children:s.enabled?"Enabled":"Disabled"})]}),e.jsxs(c,{size:"1",style:{fontStyle:"italic",color:"gray"},children:["Created by ",s.owner," on ",e.jsx(g,{date:s.creation})]})]}),e.jsxs(a,{direction:"row",gap:"2",align:"center",children:[e.jsx(l,{variant:"ghost",color:"gray","aria-label":"Click to edit webhook",title:"Edit webhook",onClick:()=>i(`./${s.name}`),style:{"--icon-button-ghost-padding":"0",height:"var(--base-button-height)",width:"var(--base-button-height)"},children:e.jsx(p,{size:"16"})}),e.jsxs(j,{open:o,onOpenChange:n,children:[e.jsx(x,{children:e.jsx(l,{variant:"ghost",color:"red","aria-label":"Click to delete webhook",title:"Delete webhook",onClick:()=>{},style:{"--icon-button-ghost-padding":"0",height:"var(--base-button-height)",width:"var(--base-button-height)"},children:e.jsx(u,{size:"16"})})}),e.jsx(y,{className:k,children:e.jsx(A,{doctype:"Raven Webhook",docname:s.name,onClose:r,onUpdate:t})})]})]})]})})},q=()=>{const s=C(),{data:t,error:i,isLoading:o,mutate:n}=v("Raven Webhook",{fields:["name","request_url","enabled","owner","creation"]},s?void 0:null,{errorRetryCount:2});return f("Raven Webhook",()=>{n()}),e.jsx(O,{children:e.jsxs($,{children:[e.jsx(P,{title:"Webhooks",description:"Fire webhooks on specific events like when a message is sent or channel is created.",actions:e.jsx(w,{asChild:!0,disabled:!s,children:e.jsx(E,{to:"create",children:"Create"})})}),o&&!i&&e.jsx(z,{columns:2}),e.jsx(S,{error:i}),(t==null?void 0:t.length)===0?null:e.jsx(a,{direction:"column",gap:"4",width:"100%",className:"animate-fadein",children:t==null?void 0:t.map((r,d)=>e.jsx(_,{webhook:r,mutate:n},d))}),((t==null?void 0:t.length)===0||!s)&&e.jsxs(L,{children:[e.jsx(T,{children:e.jsx(W,{})}),e.jsx(D,{children:"Webhooks"}),e.jsx(N,{children:"Webhooks allow you to receive HTTP requests whenever a specific event occurs - like when a message is sent or a channel is created."}),s&&e.jsx(R,{to:"create",children:"Create your first webhook"})]})]})})},U=q;export{U as Component};
