var j=(c,d,s)=>new Promise((p,l)=>{var x=e=>{try{t(s.next(e))}catch(o){l(o)}},r=e=>{try{t(s.throw(e))}catch(o){l(o)}},t=e=>e.done?p(e.value):Promise.resolve(e.value).then(x,r);t((s=s.apply(c,d)).next())});import{r as u,bB as E,j as a,au as U,E as b,bC as y,a as C,ay as _,o as h,_ as g,d as B}from"./index-DLbNAGlT.js";const D=({uploadImage:c,label:d="Upload Image",doctype:s,docname:p,fieldname:l,isPrivate:x=!0})=>{const[r,t]=u.useState(),[e,o]=u.useState(),{upload:m,loading:i}=E(),f=n=>{t(n)},F=()=>j(null,null,function*(){if(r)return m(r,{doctype:s,docname:p,fieldname:l,otherData:{optimize:"1"},isPrivate:x}).then(n=>{c(n.file_url)}).catch(n=>{o(n)})});return a.jsxs(a.Fragment,{children:[a.jsx(U,{children:d}),a.jsx(b,{error:e}),a.jsx(y,{file:r,onFileChange:f,accept:{"image/*":[".jpeg",".jpg",".png"]},maxFileSize:10}),a.jsxs(C,{gap:"3",mt:"6",justify:"end",align:"center",children:[a.jsx(_,{disabled:i,children:a.jsx(h,{variant:"soft",color:"gray",children:g("Cancel")})}),a.jsxs(h,{type:"button",onClick:F,disabled:i,children:[i&&a.jsx(B,{}),i?g("Uploading"):g("Upload")]})]})]})};export{D as U};
