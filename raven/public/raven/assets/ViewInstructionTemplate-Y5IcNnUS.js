var j=Object.defineProperty,f=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var d=(t,e,s)=>e in t?j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,u=(t,e)=>{for(var s in e||(e={}))S.call(e,s)&&d(t,s,e[s]);if(l)for(var s of l(e))y.call(e,s)&&d(t,s,e[s]);return t},p=(t,e)=>f(t,v(e));import{bx as g,by as E,j as a,E as x,F as I,ah as C,u as T,r as w,ai as B,ax as F,o as P,d as L,a3 as k}from"./index-Bzdyr4lv.js";import{I as D}from"./InstructionTemplateForm-DJQ40vKe.js";import{C as N}from"./CommonSettingsMenu-D0wShs5D.js";import{P as R,S as V,a as H}from"./SettingsContentContainer-Bb1q0MED.js";import{a as K}from"./validations-DJFqvO1k.js";import"./InstructionField-DvYKuhaq.js";import"./table-CFfrHzn6.js";import"./radio-cards-Dhb6fhh8.js";import"./AINotEnabledCallout-D_hIx2-W.js";import"./useRavenSettings-CSKb1EiJ.js";import"./DeleteAlert-BvCIFTSZ.js";const M=()=>{const{ID:t}=g(),{data:e,isLoading:s,error:r,mutate:m}=E("Raven Bot Instruction Template",t);return a.jsxs(R,{children:[a.jsx(x,{error:r}),s&&a.jsx(I,{className:"h-64"}),e&&a.jsx(U,{data:e,mutate:m})]})},U=({data:t,mutate:e})=>{const{updateDoc:s,loading:r,error:m}=C(),n=T({disabled:r,defaultValues:t}),{formState:{dirtyFields:b}}=n,h=!K(b),c=i=>{s("Raven Bot Instruction Template",i.name,i).then(o=>{k.success("Saved"),n.reset(o),e(o,{revalidate:!1})})};return w.useEffect(()=>{const i=o=>{o.key==="s"&&(o.metaKey||o.ctrlKey)&&(o.preventDefault(),n.handleSubmit(c)())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[]),a.jsx("form",{onSubmit:n.handleSubmit(c),children:a.jsx(B,p(u({},n),{children:a.jsxs(V,{children:[a.jsx(H,{title:t.name,headerBadges:h?[{label:"Not Saved",color:"red"}]:void 0,actions:a.jsxs(F,{children:[a.jsx(N,{doctype:"Raven Bot Instruction Template",docname:t.name,label:"Instruction Template"}),a.jsxs(P,{type:"submit",disabled:r,children:[r&&a.jsx(L,{className:"text-white"}),r?"Saving":"Save"]})]}),breadcrumbs:[{label:"Instruction Templates",href:"../"},{label:t.name,href:"",copyToClipboard:!0}]}),a.jsx(x,{error:m}),a.jsx(D,{isEdit:!0})]})}))})},$=M;export{$ as Component};
