import{j as e,a as n,r as c,i,aA as h,cZ as p,n as o,f as d,bp as u,ad as x,ae as g,bq as j,ag as m,ab as b,az as y,bD as S,c_ as C,o as f,E,d8 as v}from"./index-R8dcyEON.js";import{A as w}from"./DeleteAlert-Bz2RPfiB.js";import{P as k,S as A,a as L}from"./SettingsContentContainer-BMUEmzAQ.js";import{T as R}from"./TableLoader-CDpXHPyy.js";import{S as N}from"./ServerScriptNotEnabledForm-BsuglF3I.js";import{E as T,a as D,b as O,c as z,d as M}from"./EmptyListViewState-KfX7TfGG.js";import"./Skeleton-DFPQynXy.js";import"./table-HDqE5ITd.js";const _=({data:s})=>e.jsx(n,{direction:"column",gap:"4",width:"100%",className:"animate-fadein",children:s==null?void 0:s.map((t,a)=>e.jsx($,{item:t},a))}),$=({item:s})=>{const[t,a]=c.useState(!1),r=()=>{a(!1)};return e.jsx(n,{direction:"column",gap:"2",width:"100%",justify:"between",className:"border border-gray-4 dark:border-gray-6 rounded-radius2 p-3",children:e.jsxs(n,{direction:"row",align:"center",justify:"between",children:[e.jsxs(n,{direction:"column",gap:"1",children:[e.jsxs(n,{direction:"row",gap:"2",children:[e.jsx(i,{size:"2",weight:"bold",children:s.name}),e.jsx(h,{color:s.disabled?"gray":"green",children:s.disabled?"Disabled":"Enabled"})]}),e.jsxs(i,{size:"1",style:{fontStyle:"italic",color:"gray"},children:["Created by ",s.owner," on ",e.jsx(p,{date:s.creation})]})]}),e.jsxs(n,{direction:"row",gap:"2",align:"center",children:[e.jsx(o,{variant:"ghost",color:"gray","aria-label":"Click to edit webhook",title:"Edit webhook",asChild:!0,style:{"--icon-button-ghost-padding":"0",height:"var(--base-button-height)",width:"var(--base-button-height)"},children:e.jsx(d,{to:`./${s.name}`,children:e.jsx(u,{size:"16"})})}),e.jsxs(x,{open:t,onOpenChange:a,children:[e.jsx(g,{children:e.jsx(o,{variant:"ghost",color:"red","aria-label":"Click to delete webhook",title:"Delete webhook",onClick:()=>{},style:{"--icon-button-ghost-padding":"0",height:"var(--base-button-height)",width:"var(--base-button-height)"},children:e.jsx(j,{size:"16"})})}),e.jsx(m,{className:b,children:e.jsx(w,{doctype:"Raven Scheduler Event",docname:s.name,onClose:r})})]})]})]})})},B=()=>{const s=y(),{data:t,error:a,isLoading:r,mutate:l}=S("Raven Scheduler Event",{fields:["name","disabled","event_frequency","creation","owner"],orderBy:{field:"modified",order:"desc"}},s?void 0:null,{errorRetryCount:2});return C("Raven Scheduler Event",()=>{l()}),e.jsx(k,{children:e.jsxs(A,{children:[e.jsx(L,{title:"Scheduled Messages",description:"You can create a scheduled message & a bot will send it to you at the specified time.",actions:e.jsx(f,{asChild:!0,disabled:!s,children:e.jsx(d,{to:"create",children:"Create"})})}),r&&!a&&e.jsx(R,{columns:2}),e.jsx(E,{error:a}),e.jsx(N,{}),t&&t.length>0&&e.jsx(_,{data:t}),((t==null?void 0:t.length)===0||!s)&&e.jsxs(T,{children:[e.jsx(D,{children:e.jsx(v,{})}),e.jsx(O,{children:"Reminders"}),e.jsxs(z,{children:["Schedule messages to be sent to you at a specific date and time.",e.jsx("br",{}),"These support the CRON syntax."]}),s&&e.jsx(M,{to:"create",children:"Schedule a reminder"})]})]})})},Z=B;export{Z as Component};
