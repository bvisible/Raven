var g=(a,r,s)=>new Promise((o,t)=>{var i=n=>{try{c(s.next(n))}catch(d){t(d)}},l=n=>{try{c(s.throw(n))}catch(d){t(d)}},c=n=>n.done?o(n.value):Promise.resolve(n.value).then(i,l);c((s=s.apply(a,r)).next())});import{br as E,j as e,ad as y,ae as C,n as D,bq as w,ag as v,a0 as N,bs as S,E as f,ax as b,a1 as k,o as h,a2 as A,bd as P,bD as T,r as _,e as u,bE as B,i as x,bF as F}from"./index-CIYKedxU.js";import{A as L}from"./AddCustomEmojiDialog-Cjgjz0C0.js";import{E as M,a as R,b as U,c as Y}from"./EmptyListViewState-DrJjLx9z.js";import{T as G}from"./TableLoader-BQlhWYuw.js";import{P as I,S as $,a as q}from"./SettingsContentContainer-BC7bPVI1.js";import{m as z,d as H,P as p,f as m,b as O,T as j}from"./table-Cr1UdkII.js";import"./Skeleton-Cf_hHoEJ.js";const K=({emojiID:a,onDelete:r})=>{const{deleteDoc:s,loading:o,error:t}=E(),i=()=>g(null,null,function*(){yield s("Raven Custom Emoji",a),r()});return e.jsxs(y,{children:[e.jsx(C,{children:e.jsx(D,{color:"red",variant:"soft",size:"2",className:"group-hover:visible invisible",children:e.jsx(w,{})})}),e.jsxs(v,{children:[e.jsx(N,{children:"Delete Emoji"}),e.jsx(S,{children:"Are you sure you want to delete this emoji?"}),t&&e.jsx(f,{error:t}),e.jsxs(b,{justify:"end",gap:"2",pt:"2",children:[e.jsx(k,{children:e.jsx(h,{disabled:o,color:"gray",variant:"soft",children:"Cancel"})}),e.jsx(A,{onClick:i,disabled:o,children:e.jsx(h,{color:"red",disabled:o,children:"Delete"})})]})]})]})},V=()=>{const{mutate:a}=P(),{data:r,isLoading:s,error:o,mutate:t}=T("Raven Custom Emoji",{fields:["name","emoji_name","image","keywords","owner","creation"],orderBy:{field:"modified",order:"desc"}},void 0,{errorRetryCount:2}),[i,l]=_.useState(!1),c=(d=!1)=>{d&&(t(),a("custom-emojis")),l(!1)},n=()=>{t(),a("custom-emojis")};return e.jsx(I,{children:e.jsxs($,{children:[e.jsx(q,{title:"Emojis",description:e.jsxs(e.Fragment,{children:["Add custom emojis to use for your reactions. PNG, SVG and GIFs supported. ",e.jsx("br",{}),"Need help finding one? Download from ",e.jsx(u,{href:"https://emoji.gg",target:"_blank",children:"Emoji.gg"}),"."]}),actions:e.jsx(h,{onClick:()=>l(!0),children:"Upload"})}),s&&!o&&e.jsx(G,{columns:2}),e.jsx(f,{error:o}),r&&r.length>0&&e.jsx(J,{emojis:r,onDelete:n}),(r==null?void 0:r.length)===0&&e.jsxs(M,{children:[e.jsx(R,{children:e.jsx(B,{})}),e.jsx(U,{children:"Emojis"}),e.jsxs(Y,{children:["Personalize your chats with custom emojis.",e.jsx("br",{}),"Upload your own or download from ",e.jsx(u,{href:"https://emoji.gg",target:"_blank",children:"Emoji.gg"}),"."]}),e.jsx(h,{className:"not-cal",onClick:()=>l(!0),children:"Upload"})]}),e.jsx(L,{open:i,onClose:c})]})})},J=({emojis:a,onDelete:r})=>e.jsxs(z,{variant:"surface",className:"rounded-sm animate-fadein",children:[e.jsx(H,{children:e.jsxs(p,{children:[e.jsx(m,{children:"Name"}),e.jsx(m,{children:"Keywords"}),e.jsx(m,{children:"Uploaded By"}),e.jsx(m,{children:"Added"}),e.jsx(m,{})]})}),e.jsx(O,{children:a==null?void 0:a.map(s=>e.jsxs(p,{className:"hover:bg-gray-1 dark:hover:bg-gray-1 group",children:[e.jsx(j,{children:e.jsxs(b,{align:"center",gap:"2",children:[e.jsx("img",{src:s.image,alt:s.emoji_name,className:"h-8 w-8 object-contain object-center"}),e.jsxs(x,{weight:"medium",children:[":",s.emoji_name,":"]})]})}),e.jsx(j,{align:"center",children:e.jsx(x,{className:"flex h-full items-center",children:s.keywords})}),e.jsx(j,{align:"center",children:e.jsx(x,{className:"flex h-full items-center",children:s.owner})}),e.jsx(j,{align:"center",children:e.jsx(x,{className:"flex h-full items-center",children:F(s.creation).format("MMM Do, YYYY")})}),e.jsx(j,{align:"center",children:e.jsx(K,{emojiID:s.name,onDelete:r})})]},s.name))})]}),ne=V;export{ne as Component};
